$rmod.main("/scroll-tracking@1.0.0","index");$rmod.dep("","scroll-tracking","1.0.0");$rmod.def("/scroll-tracking@1.0.0/index",function(h,i,e){e.exports=function(b){b=b||"data-scrolltracking";$(document).scroll(function(){$("["+b+"]").each(function(e,g){var c=$(g),d=$(window),a=c.offset().top,a=a+c.height(),f=d.scrollTop(),d=f+d.height();if(a>f&&a<d&&(a=c.attr(b))&&a.length)$(document).trigger("pulsar",$.parseJSON(a)),c.removeAttr(b)})})}});$rmod.def("/src/js/event-manager",function(a){a("/$/scroll-tracking")()});$rmod.run("/src/js/event-manager");$rmod.def("/src/modules/vi-components/w-client-utils/index",function(){var c=window;c.clientUtils={isScrolledIntoView:function(a){var a=$(a),b=$(c),d=b.scrollTop(),b=d+b.height(),e=a.offset().top;return e+a.height()<=b&&e>=d},isElementPartiallyInViewport:function(a){var a=a.getBoundingClientRect(),b=a.left<=(c.innerWidth||document.documentElement.clientWidth)&&0<=a.left+a.width;return a.top<=(c.innerHeight||document.documentElement.clientHeight)&&0<=a.top+a.height&&b}}});$rmod.run("/src/modules/vi-components/w-client-utils/index");$rmod.main("/vi-template-helper@1.0.0","index");$rmod.dep("","vi-template-helper","1.0.0");$rmod.def("/vi-template-helper@1.0.0/index",function(e,f,d){d.exports={getTrackingIdByEventType:function(a,c,d){if(a&&a.length)for(var b=0;b<a.length;b++){if(d&&a[b].actionKinds&&a[b].actionKinds[0]===c)return JSON.stringify(a[b]);if(a[b].eventAction===c)return a[b].eventProperty.sid}},getScrollTrackingId:function(a,c){return this.getTrackingIdByEventType(a,"VIEW",c)},getReferredTrackingId:function(a,c){return this.getTrackingIdByEventType(a,"ACTN",c)}}});$rmod.def("/src/modules/vi-components/app-back-navigation/template.marko",function(c,j,e,f){(e.exports=c("/$/marko").c(f)).c(function(a){var e=a.ne,f=c("/$/vi-template-helper"),g=a.a,h=a.f,i=a.x;return function(d,a){if(d&&d.model){var c=d.model;componentTrackingId=f.getReferredTrackingId(d.model.meta?d.model.meta.trackingList:null);e(c.primaryText)&&(a.w('<div class="back-navigation"'+g("_sp",componentTrackingId?componentTrackingId:"")+"><nav>"),h(c.primaryText,function(b){b.textSpans&&(b.textSpans[0]&&
b.textSpans[0].text&&b.textSpans[0].action)&&a.w("<a"+g("href",b.textSpans[0].action.URL)+' class="nav-text icon-chevron-left">'+i(b.textSpans[0].text)+"</a>")}),a.w("</nav></div>"))}}})});$rmod.def("/src/modules/vi-components/app-back-navigation/index",function(a,c,b){b.exports=a("/$/marko-widgets").defineComponent({template:a.resolve("./template.marko")})});$rmod.dep("/$/vi-component-reviews-redesign","scroll-tracking","1.0.0");$rmod.dep("","vi-component-reviews-redesign","0.0.2");$rmod.def("/vi-component-reviews-redesign@0.0.2/widget",function(a,d,b){var c=a("/$/vi-component-reviews-redesign/$/scroll-tracking");b.exports=a("/$/marko-widgets").defineWidget({init:function(){c()}})});$rmod.def("/vi-component-reviews-redesign@0.0.2/widget-aggregated",function(d,c){function b(a){this.init(a)}b.prototype={init:function(a){$(".reviews-aggregated .star--rating, .reviews-aggregated .num-of-rewiews a").click(function(){$("html,body").animate({scrollTop:$("#eBay-product-reviews").offset().top},200);a.urTrackingId&&$(document).trigger("pulsar",a.urTrackingId)})}};c.Widget=b});$rmod.def("/vi-component-reviews-redesign@0.0.2/components/app-aspects-animate/widget",function(f,e){function c(){this.init()}c.prototype={init:function(){var b=this;$(".reviews-aspects .radial-progress").each(function(){var a=$(this).find(".circle .aspect-mask.full"),c=$(this).find(".circle .fill"),e=$(this).find(".circle .fill.fix"),d=$(this).data("percent");b.transform(a,1.8*d);b.transform(c,1.8*d);b.transform(e,3.6*d);(a=$(this).find(".inset.no-percent .percentage"))&&0===a.length&&$(this).find(".inset .percentage").html(d+
"%")})},transform:function(b,a){b.css({"-webkit-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)"})}};e.Widget=c});$rmod.def("/vi-component-reviews-redesign@0.0.2/components/app-histogram-redesign/widget",function(a,d,b){a("/$/raptor-pubsub");b.exports=a("/$/marko-widgets").defineWidget({init:function(a){var b=$(this.el),c=a.width;$(function(){$(".r--list--fc",b).each(function(){var a=$(this).data("wdth")*(c||$(this).parent().outerWidth())+"px";$(this).animate({width:a},0)})})}})});$rmod.def("/vi-component-reviews-redesign@0.0.2/components/app-description-redesign/widget",function(e,c){function d(){}d.prototype={handleShowRestTextClick:function(d,c){var a=$(c),b=a.hasClass("more")?".less":".more",b=a.closest("div").find(b);!a.data("isTracked")&&a.data("track")&&($(document).trigger("rover",{sid:a.data("track")}),a.data("isTracked",!0));a.hide();b.show();b.focus();a.closest("div").find(".show-review-ellipsis").toggle();a.closest("div").find(".show-full-review").toggle()}};c.Widget=
d});$rmod.def("/lodash@3.10.1/lang/isFunction",function(b,f,c){var d=b("./isObject"),e=Object.prototype.toString;c.exports=function(a){return d(a)&&"[object Function]"==e.call(a)}});$rmod.def("/lodash@3.10.1/internal/isObjectLike",function(c,d,b){b.exports=function(a){return!!a&&"object"==typeof a}});$rmod.def("/lodash@3.10.1/lang/isNative",function(b,i,d){var e=b("./isFunction"),f=b("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,c=Function.prototype.toString,h=RegExp("^"+c.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");d.exports=function(a){return null==a?!1:e(a)?h.test(c.call(a)):f(a)&&g.test(a)}});$rmod.def("/lodash@3.10.1/internal/getNative",function(a,f,d){var e=a("../lang/isNative");d.exports=function(b,a){var c=null==b?void 0:b[a];return e(c)?c:void 0}});$rmod.def("/lodash@3.10.1/internal/baseProperty",function(c,d,a){a.exports=function(a){return function(b){return null==b?void 0:b[a]}}});$rmod.def("/lodash@3.10.1/internal/getLength",function(a,c,b){a=a("./baseProperty")("length");b.exports=a});$rmod.def("/lodash@3.10.1/internal/isLength",function(c,d,b){b.exports=function(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}});$rmod.def("/lodash@3.10.1/internal/isArrayLike",function(a,e,b){var c=a("./getLength"),d=a("./isLength");b.exports=function(a){return null!=a&&d(c(a))}});$rmod.def("/lodash@3.10.1/lang/isObject",function(d,e,c){c.exports=function(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}});$rmod.def("/lodash@3.10.1/lang/isArguments",function(a,g,b){var c=a("../internal/isArrayLike"),d=a("../internal/isObjectLike"),a=Object.prototype,e=a.hasOwnProperty,f=a.propertyIsEnumerable;b.exports=function(a){return d(a)&&c(a)&&e.call(a,"callee")&&!f.call(a,"callee")}});$rmod.def("/lodash@3.10.1/lang/isArray",function(a,b,c){var b=a("../internal/getNative"),d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f=Object.prototype.toString,a=b(Array,"isArray")||function(a){return e(a)&&d(a.length)&&"[object Array]"==f.call(a)};c.exports=a});$rmod.def("/lodash@3.10.1/internal/isIndex",function(e,f,c){var d=/^\d+$/;c.exports=function(a,b){a="number"==typeof a||d.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==b?9007199254740991:b)}});$rmod.def("/lodash@3.10.1/object/keysIn",function(b,n,e){var h=b("../lang/isArguments"),i=b("../lang/isArray"),j=b("../internal/isIndex"),k=b("../internal/isLength"),l=b("../lang/isObject"),m=Object.prototype.hasOwnProperty;e.exports=function(a){if(null==a)return[];l(a)||(a=Object(a));for(var c=a.length,c=c&&k(c)&&(i(a)||h(a))&&c||0,b=a.constructor,f=-1,b="function"==typeof b&&b.prototype===a,g=Array(c),e=0<c;++f<c;)g[f]=f+"";for(var d in a)(!e||!j(d,c))&&!("constructor"==d&&(b||!m.call(a,d)))&&g.push(d);
return g}});$rmod.def("/lodash@3.10.1/internal/shimKeys",function(a,o,b){var i=a("../lang/isArguments"),j=a("../lang/isArray"),k=a("./isIndex"),l=a("./isLength"),m=a("../object/keysIn"),n=Object.prototype.hasOwnProperty;b.exports=function(a){for(var e=m(a),f=e.length,c=f&&a.length,b=!!c&&l(c)&&(j(a)||i(a)),g=-1,h=[];++g<f;){var d=e[g];(b&&k(d,c)||n.call(a,d))&&h.push(d)}return h}});$rmod.def("/lodash@3.10.1/object/keys",function(b,c,f){var c=b("../internal/getNative"),g=b("../internal/isArrayLike"),h=b("../lang/isObject"),d=b("../internal/shimKeys"),e=c(Object,"keys");f.exports=!e?d:function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&g(a)?d(a):h(a)?e(a):[]}});$rmod.def("/lodash@3.10.1/internal/assignWith",function(e,k,f){var j=e("../object/keys");f.exports=function(a,g,e){for(var h=-1,i=j(g),f=i.length;++h<f;){var b=i[h],c=a[b],d=e(c,g[b],b,a,g);if((d===d?d!==c:c===c)||void 0===c&&!(b in a))a[b]=d}return a}});$rmod.def("/lodash@3.10.1/internal/baseCopy",function(g,h,b){b.exports=function(b,c,a){a||(a={});for(var d=-1,f=c.length;++d<f;){var e=c[d];a[e]=b[e]}return a}});$rmod.def("/lodash@3.10.1/internal/baseAssign",function(a,f,c){var d=a("./baseCopy"),e=a("../object/keys");c.exports=function(a,b){return null==b?a:d(b,e(b),a)}});$rmod.def("/lodash@3.10.1/utility/identity",function(b,c,a){a.exports=function(a){return a}});$rmod.def("/lodash@3.10.1/internal/bindCallback",function(a,i,f){var g=a("../utility/identity");f.exports=function(b,d,a){if("function"!=typeof b)return g;if(void 0===d)return b;switch(a){case 1:return function(c){return b.call(d,c)};case 3:return function(c,h,e){return b.call(d,c,h,e)};case 4:return function(c,h,e,a){return b.call(d,c,h,e,a)};case 5:return function(c,a,e,f,g){return b.call(d,c,a,e,f,g)}}return function(){return b.apply(d,arguments)}}});$rmod.def("/lodash@3.10.1/internal/isIterateeCall",function(b,i,e){var f=b("./isArrayLike"),g=b("./isIndex"),h=b("../lang/isObject");e.exports=function(b,a,c){if(!h(c))return!1;var d=typeof a;return("number"==d?f(c)&&g(a,c.length):"string"==d&&a in c)?(a=c[a],b===b?b===a:a!==a):!1}});$rmod.def("/lodash@3.10.1/function/restParam",function(i,j,h){var g=Math.max;h.exports=function(c,a){if("function"!=typeof c)throw new TypeError("Expected a function");a=g(void 0===a?c.length-1:+a||0,0);return function(){for(var d=arguments,b=-1,e=g(d.length-a,0),f=Array(e);++b<e;)f[b]=d[a+b];switch(a){case 0:return c.call(this,f);case 1:return c.call(this,d[0],f);case 2:return c.call(this,d[0],d[1],f)}e=Array(a+1);for(b=-1;++b<a;)e[b]=d[b];e[a]=f;return c.apply(this,e)}}});$rmod.def("/lodash@3.10.1/internal/createAssigner",function(d,m,i){var j=d("./bindCallback"),k=d("./isIterateeCall"),l=d("../function/restParam");i.exports=function(d){return l(function(f,c){var h=-1,a=null==f?0:c.length,b=2<a?c[a-2]:void 0,e=2<a?c[2]:void 0,g=1<a?c[a-1]:void 0;"function"==typeof b?(b=j(b,g,5),a-=2):(b="function"==typeof g?g:void 0,a-=b?1:0);e&&k(c[0],c[1],e)&&(b=3>a?void 0:b,a=1);for(;++h<a;)(e=c[h])&&d(f,e,b);return f})}});$rmod.dep("","lodash","3.10.1");$rmod.def("/lodash@3.10.1/object/assign",function(a,g,d){var e=a("../internal/assignWith"),f=a("../internal/baseAssign"),a=a("../internal/createAssigner")(function(a,b,c){return c?e(a,b,c):f(a,b)});d.exports=a});$rmod.remap("/marko-widgets@5.0.5/taglib/helpers/getDynamicClientWidgetPath","getDynamicClientWidgetPath-browser");$rmod.def("/marko-widgets@5.0.5/taglib/helpers/getDynamicClientWidgetPath-browser",function(b,c,a){a.exports=function(a){return a}});$rmod.def("/marko-widgets@5.0.5/lib/widget-args-id",function(c,g,d){var f=c("../lib/repeated-id");d.exports=function(b,c){var a=b.id;if(a){var d=b.out,e=b.scope;if("!"===a.charAt(0))return a.substring(1);a=a.endsWith("[]")?f.nextId(d,e,a):e+"-"+a;c&&(b.id="!"+a);return a}}});$rmod.def("/marko-widgets@5.0.5/taglib/widget-tag",function(l,z,m){function p(a,d,g,e){var j=a.el.tagName;d.write("<"+j+' id="'+a.id+'">');var f=!1;e&&a.bodyEl&&(f=!0,n(d,a.bodyEl.id,e,a));d.write("</"+j+">");a._reset();g.addPreservedDOMNode(a.el,null,f)}var o=l("../"),q=l("/$/marko-widgets/$/raptor-util/extend"),w=l("../lib/widget-args-id"),n=l("./helpers/widgetBody"),x={elId:function(){}};m.exports=function(a,d){var g=d.global;g.__widgetsBeginAsyncAdded||(g.__widgetsBeginAsyncAdded=!0,d.on("beginAsync",
function(a){var c=a.parentWriter,a=a.writer,b=g.widgets,e;if(b&&(e=b.widgetStack).length)b=new o.WidgetsContext(d),b.widgetStack=[e[e.length-1]],a.data.widgets=b;a.data.widgetArgs=c.data.widgetArgs}));var e=a.module,j=a.config||a._cfg,f=a.state||a._state,l=a.props||a._props,c=d.data.widgetArgs,m=a.body,r=a._body,h=a.id,s,n=a.hasDomEvents,t,u,i;if(c){delete d.data.widgetArgs;u=c.scope;h=h||w(c);s=c.extend;t=c.customEvents;if(i=c.extendState)f?q(f,i):f=i;if(c=c.extendConfig)j?q(j,c):j=c}var c=g.__rerenderWidget,
y=!0===g.__rerender;i=o.getWidgetsContext(d);if(!h){var v=i.getCurrentWidget();v&&(h=v.nextId())}var b;if(c)b=c,h=c.id,delete g.__rerenderWidget;else if(y){b=document.getElementById(h);var k;b=b&&(k=b.__widget)&&k.__type===e?k:null}if(!h&&a.hasOwnProperty("id"))throw Error('Invalid widget ID for "'+e+'"');if(e){k=!0;if(b&&!c){if(f&&(b._replaceState(f),!0===b._processUpdateHandlers())){k=!1;p(b,d,i,r);return}if(!b.isDirty()&&!b.shouldUpdate(l,f)){k=!1;p(b,d,i,r);return}}b&&b._emitLifecycleEvent("beforeUpdate");
e=i.beginWidget({type:e,id:h,config:j,state:f,hasDomEvents:n,customEvents:t,scope:u,createWidget:a.createWidget,extend:s,existingWidget:b,bodyElId:m});k&&(a.renderBody(d,e),o.writeDomEventsEl(e,d));e.end()}else a.renderBody(d,x)}});$rmod.def("/marko-widgets@5.0.5/taglib/helpers/widgetBody",function(b,i,e){var f=b("../../"),g=b("/$/marko-widgets/$/raptor-util/escapeXml"),h="undefined"!==typeof window;e.exports=function(d,c,a,b){null!=c&&null==a?h&&(c=document.getElementById(c))&&f.getWidgetsContext(d).addPreservedDOMNode(c,!0):"function"===typeof a?a(d,b):("string"===typeof a&&(a=g(a)),d.write(a))}});$rmod.def("/ebayui-overlay@1.0.0/template.marko",function(c,q,f,g){(f.exports=c("/$/marko").c(g)).c(function(b){function h(){"undefined"!=typeof window&&i.registerWidget(j,c("./index"))}var f=b.ne,i=c("/$/marko-widgets"),g=i.attrs;c("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var j="/$/ebayui-overlay/index",k=b.r,l=k(c("/$/marko-widgets/taglib/widget-tag")),m=b.t,d=b.xa,e=b.a,n=b.as,o=b.x,p=c("/$/marko-widgets/taglib/helpers/widgetBody");return function(a,b){h&&(h(),h=null);
f(a)&&m(b,l,{config:{relativeParentClass:a.options.relativeParentClass,overlayContainerId:a.options.overlayContainerId},id:a.options.id,body:0,module:j,_cfg:a.widgetConfig,_state:a.widgetState,_props:a.widgetProps,_body:a.widgetBody},function(b,c){b.w('<div class="ebayui-overlay '+d(a.options.className)+" dialog dialog--"+d(a.options.type)+" ebayui-overlay--"+d(a.options.type)+'"'+e("id",c.elId())+e("aria-hidden",a.model.isopen?"false":"true")+' role="dialog" aria-labelledby="ebayui-overlay__title"'+
n(g(c))+'><div class="ebayui-overlay__container--'+d(a.options.type)+'" style="width: '+d(a.options.width)+"; height: "+d(a.options.height)+';" role="document"><header aria-live="polite" class="ebayui-overlay_header clearfix"><button aria-label="Close Dialog" class="ebayui-overlay__close"></button><h2 id="ebayui-overlay__title"'+e("class",!a.options.showTitle?a.options.accessibleClass:"")+">"+o(a.options.title)+'</h2></header><div class="ebayui-overlay__arrow"></div><div class="ebayui-overlay__spinner spinner" aria-label="Busy animation" role="img"></div><div class="ebayui-overlay__content"><div'+
e("id",c.elId("0"))+">");p(b,c.elId("0"),a.widgetBody,c);b.w("</div></div></div></div>")})}})});$rmod.dep("","ebayui-overlay","1.0.0");$rmod.def("/ebayui-overlay@1.0.0/index",function(e,k,g){function d(a){return"undefined"!==typeof a&&a?!0:!1}function h(a){a=d(a)&&d(a.options)&&d(a.options.type)?a.options.type:b.FULLPAGE;return f.assign({},i,j[a])}var c=e("/$/raptor-pubsub"),f={assign:e("/$/lodash/object/assign")},b={PANEL:"panel",SUBPAGE:"subpage",FULLPAGE:"fullpage",POPOVER:"popover",ESCAPE_KEY:27,ARROW_HEIGHT:25,DEFAULT_SUBPAGE_ID:"default-subpage-id",DEFAULT_FULLPAGE_ID:"default-fullpage-id",DEFAULT_PANEL_ID:"default-panel-id",
DEFAULT_POPOVER_ID:"default-popover-id",DEFAULT_POPOVER_ANIMATION:"animate--popover",ONHIDECONTENT:"onhidecontent",ONSHOWCONTENT:"onshowcontent",ONHIDE:"onhide",ONOPEN:"onopen",SIXTEEN_FPS:1E3/60,MAX_EVENT_LISTENERS:100,ACCESSIBLE_CLASS:"hide-for-accessibility"},i={relativeParentClass:"",width:"100%",height:"100%",showMask:!0,showTitle:!0,accessibleClass:b.ACCESSIBLE_CLASS},j={subpage:{type:b.SUBPAGE,id:b.DEFAULT_SUBPAGE_ID,addHashesToUrl:!1},panel:{type:b.PANEL,id:b.DEFAULT_PANEL_ID},fullpage:{type:b.FULLPAGE,
id:b.DEFAULT_FULLPAGE_ID},popover:{type:b.POPOVER,id:b.DEFAULT_POPOVER_ID,animation:b.DEFAULT_POPOVER_ANIMATION,width:"300px",height:"auto",showMask:!1,showTitle:!0}};g.exports=e("/$/marko-widgets").defineComponent({template:e.resolve("./template.marko"),init:function(a){c.setMaxListeners(b.MAX_EVENT_LISTENERS);this.config=a;this.relativelyPositionOverlay=!1;this.animation=b.DEFAULT_POPOVER_ANIMATION;this.initValues();this.prepOverlay();this.bindEventListeners();this.setupEventSubscription()},getInitialState:function(a){var b=
f.assign({},h(a),a.options||{});return{model:a.model,options:b,isopen:!1,initialized:!1,content:{title:void 0,body:void 0}}},getTemplateData:function(a){return{model:{content:a.content,isopen:a.isopen},options:a.options}},onDestroy:function(){c.removeAllListeners("ebayui.overlay.open");c.removeAllListeners("ebayui.overlay.showcontent");c.removeAllListeners("ebayui.overlay.hide");c.removeAllListeners("ebayui.overlay.hidecontent");$(document).off("ebayui.overlay*")},initValues:function(){this.type=
this.state.options.type;this.showMask=this.state.options.showMask;this.$rootEl=$(this.el);this.$body=$("body");this.$window=$(window);this.$overlayContainer=this.$rootEl.find(".ebayui-overlay__container--"+this.type);this.id=this.state.options.id;this.addHashesToUrl=this.state.options.addHashesToUrl;this.type===b.POPOVER&&(this.relativelyPositionOverlay=!0,this.$arrow=this.$rootEl.find(".ebayui-overlay__arrow"),this.relativeParentClass=this.config.relativeParentClass);d(this.id)||(this.id=this.getOverlayId())},
addOverlayAndMaskToDom:function(){this.overlayContainerId=this.config.overlayContainerId||"";""!==this.overlayContainerId?(0===this.$body.find("#"+this.overlayContainerId).length&&this.$body.append('<div id="'+this.overlayContainerId+'"></div>'),this.$overlayHolder=$("#"+this.overlayContainerId),0===this.$body.find(".ebayui-overlay-mask").length&&(this.$overlayHolder.append('<div class="ebayui-overlay-mask mask"></div>'),this.$mask=$(".ebayui-overlay-mask")),this.$overlayHolder.append(this.$rootEl)):
(0===this.$body.find(".ebayui-overlay-mask").length&&(this.$body.append('<div class="ebayui-overlay-mask mask"></div>'),this.$mask=$(".ebayui-overlay-mask")),this.$body.append(this.$rootEl))},prepOverlay:function(){this.relativelyPositionOverlay?(this.$rootEl.parent().css("position","relative"),this.$rootEl.css({position:"fixed",height:"auto",width:"auto",overflow:"visible","background-color":"transparent"}),this.$rootEl.find(".ebayui-overlay__container--popover").css({overflow:"initial"})):(this.addOverlayAndMaskToDom(),
this.$localParent=this.$rootEl.parent(),this.$localParent.remove("#"+this.id))},bindEventListeners:function(){var a=this;$(document).on("ebayui.overlay.open."+a.id,function(b,c){a.open(c)}).on("ebayui.overlay.showcontent."+a.id,function(b,c){a.showContent(c)}).on("ebayui.overlay.hide."+a.id,function(b,c){a.hide(c)}).on("ebayui.overlay.hidecontent."+a.id,function(b,c){a.hideContent(c)}).on("keydown.ebayui.overlay"+a.id,$.proxy(a.overlayEscKeyHandler,a));a.subscribeTo(c).on("ebayui.overlay.open",function(b){a.open(b)});
a.subscribeTo(c).on("ebayui.overlay.showcontent",function(b){a.showContent(b)});a.subscribeTo(c).on("ebayui.overlay.hide",function(b){a.hide(b)});a.subscribeTo(c).on("ebayui.overlay.hidecontent",function(b){a.hideContent(b)});a.$rootEl.on("click",".ebayui-overlay__close",$.proxy(a.overlayCloseClickHandler,a));a.addHashesToUrl&&window.addEventListener("popstate",function(){if(history.state&&!history.state.overlayId&&(a.type===b.SUBPAGE||a.type===b.FULLPAGE)&&a.state.isopen)window.history.pushState({},
null,null),a.overlayCloseClickHandler()});document.addEventListener("focus",function(b){var c=$(a.$rootEl[0]).attr("class"),d=$(b.target).attr("class");a.state.isopen&&(c!==d&&!a.$rootEl[0].contains(b.target))&&(b.stopPropagation(),a.$rootEl[0].focus())},!0);a.$rootEl.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){a.state.isopen?a.type!==b.POPOVER&&c.emit("ebayui.overlay.animationEnd",{overlayId:a.id,type:a.type}):a.toggleOverlayDisplay()})},setupEventSubscription:function(){var a=
this;this.subscribeTo(c).on("destroy",function(){a.destroy()})},overlayEscKeyHandler:function(a){var c={id:this.id};a.keyCode===b.ESCAPE_KEY&&this.state.isopen&&this.hide(c)},overlayCloseClickHandler:function(){this.hide({id:this.id})},triggerBackBtn:function(){(this.type===b.SUBPAGE||this.type===b.FULLPAGE)&&this.addHashesToUrl&&history.back(-1)},manipulateLocationHash:function(a,b){window.history.pushState({overlayId:a,data:b},a,window.location.href)},open:function(a){var c="";if(this.isValidOverlay(a)&&
!this.state.isopen&&(this.actionAckEvent=b.ONOPEN,this.setState("isopen",!0),(this.type===b.SUBPAGE||this.type===b.FULLPAGE)&&this.addHashesToUrl))a&&a.id&&(c=a.id),this.manipulateLocationHash(c,a)},hide:function(a){this.isValidOverlay(a)&&(this.actionAckEvent=b.ONHIDE,this.setState("isopen",!1),this.resetOverlayArrow(),this.triggerBackBtn())},update_isopen:function(a){a&&this.toggleOverlayDisplay();this.toggleOverlayFocus();this.type===b.POPOVER&&this.toggleOverlayAnimation();this.toggleOverlayPosition();
this.toggleOverlayAccessibility()},update_content:function(a){var b=this.$rootEl.find(".ebayui-overlay__content").find("div");d(a)||(a={title:"",body:""});a.title&&this.$rootEl.find("#ebayui-overlay__title").html(a.title);a.template&&a.templateModel?a.template.render(a.templateModel).replaceChildrenOf(b.get(0)):b.html(a.body)},onUpdate:function(){this.triggerCustomEvent(this.actionAckEvent)},showContent:function(a){this.isValidOverlay(a)&&(this.actionAckEvent=b.ONSHOWCONTENT,this.setState("content",
a.content),this.hideThrobber())},hideContent:function(a){this.isValidOverlay(a)&&(this.actionAckEvent=b.ONHIDECONTENT,this.setState("content",void 0),this.showThrobber())},resetOverlayArrow:function(){var a=this.$rootEl.find(".ebayui-overlay__arrow");a.hasClass("ebayui-overlay__arrow--bottom")?a.removeClass("ebayui-overlay__arrow--bottom"):a.hasClass("ebayui-overlay__arrow--top")&&a.removeClass("ebayui-overlay__arrow--top")},toggleOverlayFocus:function(){var a=this;a.state.isopen?setTimeout(function(){a.$rootEl.find(".ebayui-overlay__close").focus();
a.lastFocussedElement=document.activeElement},100):a.lastFocussedElement&&a.lastFocussedElement.focus()},toggleOverlayDisplay:function(){this.state.isopen?(this.$rootEl.css("display","block"),this.$mask&&this.$mask.css({opacity:0.6,width:"100%",height:"100%"}),0<this.$rootEl.find(".ebayui-overlay__content").find("div").html().length?this.hideThrobber():this.showThrobber()):(this.$rootEl.css("display","none"),this.$mask&&this.$mask.css({opacity:0,width:0,height:0}))},toggleOverlayAnimation:function(){var a=
this;a.state.isopen?setTimeout(function(){a.$rootEl.find(".ebayui-overlay__container--"+a.type).addClass(a.animation)},b.SIXTEEN_FPS):a.$rootEl.find(".ebayui-overlay__container--"+a.type).removeClass(a.animation)},toggleOverlayAccessibility:function(){this.state.isopen?(this.$rootEl.attr({"aria-hidden":!1,tabindex:0}),this.type!==b.POPOVER&&(this.$rootEl.siblings().attr("tabindex",-1),this.$body.css("overflow","hidden"))):(this.$rootEl.attr({"aria-hidden":!0,tabindex:-1}),this.type!==b.POPOVER&&(this.$rootEl.siblings().removeAttr("tabindex",
-1),this.$body.css("overflow","")))},triggerCustomEvent:function(a){$(document).trigger("ebayui.overlay."+a,{overlayId:this.id,type:this.type});c.emit("ebayui.overlay."+a,{overlayId:this.id,type:this.type})},showThrobber:function(){this.$rootEl.find(".ebayui-overlay__spinner").show()},hideThrobber:function(){this.$rootEl.find(".ebayui-overlay__spinner").hide()},isValidOverlay:function(a){return d(a)&&(a=this.getOverlayId(a),this.id===a)?!0:!1},getOverlayId:function(a){return d(a)?d(a.id)?a.id:"overlay-"+
a.type+"-default":"overlay-"+this.type+"-default"},doesOverlayOverflowAtTheBottom:function(){var a=this.$target?this.$target.offset():void 0;return this.$target&&a&&this.$target.outerHeight()+this.$overlayContainer.outerHeight()+a.top>this.$window.height()?!0:!1},doesOverlayOverflowOnTheRight:function(){var a=this.$target?this.$target.offset():void 0;return this.$target&&a&&this.$target.outerWidth()+this.$overlayContainer.outerWidth()+this.$target.offset().left>this.$window.width()?!0:!1},getOverlayOffsetPosition:function(){var a=
{};this.$target=$(this.relativeParentClass);if(!this.$target||"undefined"===typeof this.$target.offset())return a;this.doesOverlayOverflowAtTheBottom()?(a.top=-1*(this.$overlayContainer.outerHeight()+20),this.$arrow.addClass("ebayui-overlay__arrow--bottom")):(a.top=this.$target.offset().top+b.ARROW_HEIGHT,this.$arrow.addClass("ebayui-overlay__arrow--top"));this.doesOverlayOverflowOnTheRight()?(a.left=this.$target.offset().left-this.$overlayContainer.outerWidth()+50,this.$arrow.addClass("ebayui-overlay__arrow--right")):
(a.left=this.$target.offset().left-20,this.$arrow.addClass("ebayui-overlay__arrow--left"));return a},toggleOverlayPosition:function(){if(this.relativelyPositionOverlay)if(this.state.isopen){var a=this.getOverlayOffsetPosition();this.$rootEl.css(a)}else this.$rootEl.css({top:"",right:"",bottom:"",left:""})}})});$rmod.main("/vi-component-textualdisplay@1.0.0","renderer");$rmod.dep("","vi-component-textualdisplay","1.0.0");$rmod.main("/vi-component-action@1.0.0","renderer");$rmod.dep("/$/vi-component-textualdisplay","vi-component-action","1.0.0");$rmod.def("/vi-component-action@1.0.0/template.marko",function(d,i,g,h){(g.exports=d("/$/marko").c(h)).c(function(e){var f=e.ne,b=e.a,d=e.as;return function(a,c){f(a)&&f(a.model)?(c.w("<a"+b("href",a.model.URL)+b("_sp",a.model.tracking?a.model.tracking.eventProperty.sid:"")+b("class",a.viewOptions&&a.viewOptions.class?a.viewOptions.class:"")+b("id",a.viewOptions&&a.viewOptions.id?a.viewOptions.id:"")+b("role",a.viewOptions&&a.viewOptions.role?a.viewOptions.role:"")+d(a.viewOptions?a.viewOptions.attrs:
void 0)+">"),a.renderBody(c),c.w("</a>")):a.renderBody(c)}})});$rmod.def("/vi-component-action@1.0.0/renderer",function(a,d,b){var c=a("/$/marko").load(a.resolve("./template.marko"));b.exports=function(a,b){c.render(a,b)}});$rmod.main("/vi-component-textspans@1.0.0","renderer");$rmod.dep("/$/vi-component-textualdisplay","vi-component-textspans","1.0.0");$rmod.def("/vi-component-textspans@1.0.0/template-helper",function(e,f,d){d.exports={flatStyles:function(a){var c=[];if(a&&a.length)for(var b=0;b<a.length;b++)"DEFAULT"!=a[b]&&c.push("cc-ts-"+a[b]);return c?c.join(" "):""}}});$rmod.dep("/$/vi-component-textualdisplay/$/vi-component-textspans","vi-component-action","1.0.0");$rmod.def("/vi-component-textspans@1.0.0/template.marko",function(b,m,f,c){(f.exports=b("/$/marko").c(c)).c(function(a){var e=a.ne,f=b("./template-helper"),c=a.f,h=a.r,i=h(b("/$/vi-component-textualdisplay/$/vi-component-textspans/$/vi-component-action")),j=a.t,k=a.a,g=a.x,l=a.as;return function(a,b){e(a)&&e(a.model)&&(0>=a.model.length?b.w("<span>&nbsp;</span>"):c(a.model,function(d){var c=f.flatStyles(d.styles);j(b,i,{model:d.action},function(b){" "===d.text?b.w("<span>&nbsp;</span>"):e(c)?b.w("<span"+
k("class",c)+">"+g(d.text)+"</span>"):e(a.viewOptions)&&e(a.viewOptions.attrs)?b.w("<span"+l(a.viewOptions.attrs)+">"+g(d.text)+"</span>"):b.w(g(d.text))})}))}})});$rmod.def("/vi-component-textspans@1.0.0/renderer",function(a,d,b){var c=a("/$/marko").load(a.resolve("./template.marko"));b.exports=function(a,b){c.render(a,b)}});$rmod.def("/vi-component-textualdisplay@1.0.0/template.marko",function(b,k,d,j){(d.exports=b("/$/marko").c(j)).c(function(e){var g=e.r,d=g(b("/$/vi-component-textualdisplay/$/vi-component-action")),f=e.t,h=e.a,i=g(b("/$/vi-component-textualdisplay/$/vi-component-textspans"));return function(a,c){if(a.model.action)f(c,d,{model:a.model.action,viewOptions:a.actionViewOptions},function(b){var c=!!a.class;c&&b.w("<span"+h("class",a.class?a.class:"")+">");f(b,i,{model:a.model.textSpans});c&&b.w("</span>")});
else{var b=!!a.class;b&&c.w("<span"+h("class",a.class?a.class:"")+">");f(c,i,{model:a.model.textSpans});b&&c.w("</span>")}}})});$rmod.def("/vi-component-textualdisplay@1.0.0/renderer",function(a,d,b){var c=a("/$/marko").load(a.resolve("./template.marko"));b.exports=function(a,b){c.render(a,b)}});$rmod.main("/ebayui-overlay@1.0.0","index");$rmod.dep("","vi-component-textspans","1.0.0");$rmod.dep("/$/vi-component-textspans","vi-component-action","1.0.0");$rmod.def("/src/modules/vi-components/app-theme-card/template.marko",function(f,x,n,l){(n.exports=f("/$/marko").c(l)).c(function(c){function j(){"undefined"!=typeof window&&q.registerWidget(r,f("./index"))}var m=c.ne,q=f("/$/marko-widgets"),n=q.attrs;f("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var r="/src/modules/vi-components/app-theme-card/index",h=c.r,l=h(f("/$/marko-widgets/taglib/widget-tag")),g=c.t,e=c.a,t=c.as,k=h(f("/$/vi-component-textualdisplay")),u=h(f("/$/ebayui-overlay")),
o=c.xa,s=c.f,p=h(f("/$/vi-component-textspans")),v=c.fv,w=c.x;return function(c,f){j&&(j(),j=null);var d=c.model;d.theme&&g(f,l,{config:{},module:r,_cfg:c.widgetConfig,_state:c.widgetState,_props:c.widgetProps,_body:c.widgetBody},function(a,f){a.w('<section class="app-theme-card clearfix"'+e("id",f.elId())+t(n(f))+'><div class="theme-title-wrap clearfix">');d.theme.themeTitle&&(a.w('<h2 class="theme-name">'),g(a,k,{model:d.theme.themeTitle}),a.w("</h2>"));if(m(d.theme.themeHelpText)){var i=c.options&&
c.options.layerId?c.options.layerId:"",h=d.theme.themeHelpClickTracking?JSON.stringify(d.theme.themeHelpClickTracking):"",l=m(d.theme.themeHelpText.accessibilityText)?d.theme.themeHelpText.accessibilityText:"";a.w('<span role="img"'+e("aria-label",l)+' class="icon-info theme-help-icon"'+e("data-theme-layerId",i)+e("data-tracking",h?h:"")+e("id",f.elId("theme-help-icon"))+"></span>");d.theme.themeHelpText&&g(a,u,{options:{id:i,overlayContainerId:"ebayui-overlay-container",type:"fullpage",addHashesToUrl:!1}},
function(a){a.w('<div class="ebayui-layer-stdpad '+o("ANDROID"===c.options.globalFlags.deviceOS?"fontomizer":"")+'">');s(d.theme.themeHelpText,function(c){a.w('<div class="ebayui-layer-stdpad-text">');g(a,k,{model:c});a.w("</div>")});a.w("</div>")})}d.theme.seeAll&&d.theme.seeAll.action&&(a.w('<div class="theme-see-more">'),i=d.theme.seeAll.action,a.w("<a"+e("href",i.URL)+e("_sp",i.tracking&&i.tracking.eventProperty?i.tracking.eventProperty.sid:"")+">"),g(a,p,{model:d.theme.seeAll.textSpans}),a.w('<span class="next-page icon-chevron-right"></span></a></div>'));
a.w('</div><div class="section-container">');if(d.listings){a.w('<div class="theme-item-wrapper"'+e("id",f.elId("theme-item-card"))+">");var j=d.listings.length;a.w('<ul class="theme-items" style="width: '+o(700*j)+'px">');v(d.listings,function(b,c){var d=!1;5<=j&&5<=c.getIndex()+1&&(d=!0);a.w('<li class="theme-item-action-wrapper '+o(d?"theme-image-feed":"")+'" itemprop="offers" itemscope itemtype="http://schema.org/Offer">');b.action&&(a.w("<a"+e("href",b.action.URL?b.action.URL:"")+' itemprop="url" class="theme-item-action"'+
e("_sp",b.action.tracking&&b.action.tracking.eventProperty?b.action.tracking.eventProperty.sid:"")+'><div class="theme-item">'),b.image&&(a.w('<div class="image"><span class="cc-image-component">'),d?a.w('<img itemprop="image" src="//ir.ebaystatic.com/pictures/skin/gif/spinner.gif"'+e("data-url",b.image.URL)+' class="cc-image"'+e("alt",b.image.title?b.image.title:"")+">"):a.w('<img itemprop="image"'+e("src",b.image.URL)+' class="cc-image"'+e("alt",b.image.title?b.image.title:"")+">"),a.w("</span></div>")),
a.w('<div class="offer">'),b.title&&(a.w('<h3 class="item" itemprop="name"><span class="clipped">'+w(b.accessibilityText)+"</span>"),g(a,k,{model:b.title}),a.w("</h3>")),a.w('<div class="theme-details">'),b.displayPrice&&(a.w('<div class="price-wrapper clearfix">'),b.displayPrice&&b.displayPrice.textSpans&&(a.w('<span class="price">'),g(a,p,{model:b.displayPrice.textSpans}),m(b.schemaPrice)&&a.w('<meta itemprop="price"'+e("content",b.schemaPrice)+">"),m(b.schemaPriceCurrency)&&a.w('<meta itemprop="priceCurrency"'+
e("content",b.schemaPriceCurrency)+">"),a.w('<meta itemprop="availability" content="http://schema.org/InStock"></span>')),b.logisticsCost&&(a.w('<span class="shipping" itemprop="eligibleTransactionVolume">'),g(a,k,{model:b.logisticsCost}),a.w("</span>")),a.w("</div>")),b.bidCount&&(a.w('<div class="bid-details">'),g(a,k,{model:b.bidCount,"class":"bid--count"}),b.displayTime&&b.displayTime.textSpans&&(a.w('<span class="time-left">'),g(a,p,{model:b.displayTime.textSpans}),a.w("</span>")),a.w("</div>")),
m(b.bullets)&&(a.w('<ul class="bullets">'),s(b.bullets,function(b){a.w('<li><span class="lights">');g(a,k,{model:b});a.w("</span></li>")}),a.w("</ul>")),a.w("</div></div></div></a>"));a.w("</li>")});a.w("</ul></div>")}a.w("</div></section>")})}})});$rmod.dep("","iscroll","5.2.0");$rmod.def("/iscroll@5.2.0/build/iscroll",function(o,j,t){var g=window,m=document,f=Math,p=function(a,b){this.wrapper="string"==typeof a?m.querySelector(a):a;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:0.334,disablePointer:!d.hasPointer,disableTouch:d.hasPointer||!d.hasTouch,disableMouse:d.hasPointer||d.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,
bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"===typeof g.onmousedown};for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&d.hasPerspective?" translateZ(0)":"";this.options.useTransition=d.hasTransition&&this.options.useTransition;this.options.useTransform=d.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?
"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=
"string"==typeof this.options.bounceEasing?d.ease[this.options.bounceEasing]||d.ease.circular:this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.directionY=this.directionX=this.y=this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,
this.options.startY);this.enable()},u=function(a,b,c){var e=m.createElement("div"),d=m.createElement("div");!0===c&&(e.style.cssText="position:absolute;z-index:9999",d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px");d.className="iScrollIndicator";"h"==a?(!0===c&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",d.style.height="100%"),e.className=
"iScrollHorizontalScrollbar"):(!0===c&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",d.style.width="100%"),e.className="iScrollVerticalScrollbar");e.style.cssText+=";overflow:hidden";b||(e.style.pointerEvents="none");e.appendChild(d);return e},v=function(a,b){this.wrapper="string"==typeof b.el?m.querySelector(b.el):b.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=a;this.options={listenX:!0,listenY:!0,
interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var c in b)this.options[c]=b[c];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;this.options.interactive&&(this.options.disableTouch||(d.addEvent(this.indicator,"touchstart",this),d.addEvent(g,"touchend",this)),this.options.disablePointer||(d.addEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.addEvent(g,d.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||
(d.addEvent(this.indicator,"mousedown",this),d.addEvent(g,"mouseup",this)));if(this.options.fade){this.wrapperStyle[d.style.transform]=this.scroller.translateZ;var e=d.style.transitionDuration;this.wrapperStyle[e]=d.isBadAndroid?"0.0001ms":"0ms";var f=this;d.isBadAndroid&&s(function(){"0.0001ms"===f.wrapperStyle[e]&&(f.wrapperStyle[e]="0s")});this.wrapperStyle.opacity="0"}},s=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||g.msRequestAnimationFrame||
function(a){g.setTimeout(a,1E3/60)},d,o=function(a){return!1===q?!1:""===q?a:q+a.charAt(0).toUpperCase()+a.substr(1)},h={},j=m.createElement("div").style,q;a:{for(var n=["t","webkitT","MozT","msT","OT"],w,r=0,x=n.length;r<x;r++)if(w=n[r]+"ransform",w in j){q=n[r].substr(0,n[r].length-1);break a}q=!1}h.getTime=Date.now||function(){return(new Date).getTime()};h.extend=function(a,b){for(var c in b)a[c]=b[c]};h.addEvent=function(a,b,c,e){a.addEventListener(b,c,!!e)};h.removeEvent=function(a,b,c,e){a.removeEventListener(b,
c,!!e)};h.prefixPointerEvent=function(a){return g.MSPointerEvent?"MSPointer"+a.charAt(7).toUpperCase()+a.substr(8):a};h.momentum=function(a,b,c,e,d,i){var b=a-b,c=f.abs(b)/c,g,i=void 0===i?6E-4:i;g=a+c*c/(2*i)*(0>b?-1:1);i=c/i;g<e?(g=d?e-d/2.5*(c/8):e,b=f.abs(g-a),i=b/c):0<g&&(g=d?d/2.5*(c/8):0,b=f.abs(a)+g,i=b/c);return{destination:f.round(g),duration:i}};n=o("transform");h.extend(h,{hasTransform:!1!==n,hasPerspective:o("perspective")in j,hasTouch:"ontouchstart"in g,hasPointer:!(!g.PointerEvent&&
!g.MSPointerEvent),hasTransition:o("transition")in j});j=g.navigator.appVersion;j=/Android/.test(j)&&!/Chrome\/\d/.test(j)?(j=j.match(/Safari\/(\d+.\d)/))&&"object"===typeof j&&2<=j.length?535.19>parseFloat(j[1]):!0:!1;h.isBadAndroid=j;h.extend(h.style={},{transform:n,transitionTimingFunction:o("transitionTimingFunction"),transitionDuration:o("transitionDuration"),transitionDelay:o("transitionDelay"),transformOrigin:o("transformOrigin")});h.hasClass=function(a,b){return RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)};
h.addClass=function(a,b){if(!h.hasClass(a,b)){var c=a.className.split(" ");c.push(b);a.className=c.join(" ")}};h.removeClass=function(a,b){h.hasClass(a,b)&&(a.className=a.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)","g")," "))};h.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}};h.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1};h.extend(h.eventType={},{touchstart:1,touchmove:1,
touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});h.extend(h.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return f.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return(a-=1)*a*(5*a+4)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*
(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1==a?1:0.4*f.pow(2,-10*a)*f.sin((a-0.055)*2*f.PI/0.22)+1}}});h.tap=function(a,b){var c=m.createEvent("Event");c.initEvent(b,!0,!0);c.pageX=a.pageX;c.pageY=a.pageY;a.target.dispatchEvent(c)};h.click=function(a){var b=a.target,c;/(SELECT|INPUT|TEXTAREA)/i.test(b.tagName)||(c=m.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,b.screenX,b.screenY,
b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,b.dispatchEvent(c))};d=h;p.prototype={version:"5.2.0",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);clearTimeout(this.resizeTimeout);this.resizeTimeout=null;this._execEvent("destroy")},_transitionEnd:function(a){a.target==
this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=d.eventType[a.type]&&0!==(a.which?a.button:2>a.button?0:4==a.button?1:2))&&this.enabled&&!(this.initiated&&d.eventType[a.type]!==this.initiated)){this.options.preventDefault&&(!d.isBadAndroid&&!d.preventDefaultException(a.target,this.options.preventDefaultException))&&a.preventDefault();var b=a.touches?a.touches[0]:
a;this.initiated=d.eventType[a.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this.startTime=d.getTime();this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,a=this.getComputedPosition(),this._translate(f.round(a.x),f.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=
this.x;this.absStartY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&d.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,c=b.pageX-this.pointX,e=b.pageY-this.pointY,k=d.getTime(),i;this.pointX=b.pageX;this.pointY=b.pageY;this.distX+=c;this.distY+=e;b=f.abs(this.distX);i=f.abs(this.distY);if(!(300<k-this.endTime&&10>b&&10>i)){!this.directionLocked&&!this.options.freeScroll&&
(this.directionLocked=b>i+this.options.directionLockThreshold?"h":i>=b+this.options.directionLockThreshold?"v":"n");if("h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=!1;return}e=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}c=0}c=this.hasHorizontalScroll?c:
0;e=this.hasVerticalScroll?e:0;a=this.x+c;b=this.y+e;if(0<a||a<this.maxScrollX)a=this.options.bounce?this.x+c/3:0<a?0:this.maxScrollX;if(0<b||b<this.maxScrollY)b=this.options.bounce?this.y+e/3:0<b?0:this.maxScrollY;this.directionX=0<c?-1:0>c?1:0;this.directionY=0<e?-1:0>e?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(a,b);300<k-this.startTime&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&d.eventType[a.type]===this.initiated){this.options.preventDefault&&
!d.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c;c=d.getTime()-this.startTime;var e=f.round(this.x),k=f.round(this.y),i=f.abs(e-this.startX),g=f.abs(k-this.startY);b=0;var h="";this.initiated=this.isInTransition=0;this.endTime=d.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.scrollTo(e,k),this.moved)if(this._events.flick&&200>c&&100>i&&100>g)this._execEvent("flick");else if(this.options.momentum&&300>c&&(b=this.hasHorizontalScroll?
d.momentum(this.x,this.startX,c,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:e,duration:0},c=this.hasVerticalScroll?d.momentum(this.y,this.startY,c,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:k,duration:0},e=b.destination,k=c.destination,b=f.max(b.duration,c.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=h=this._nearestSnap(e,k),b=this.options.snapSpeed||f.max(f.max(f.min(f.abs(e-
h.x),1E3),f.min(f.abs(k-h.y),1E3)),300),e=h.x,k=h.y,this.directionY=this.directionX=0,h=this.options.bounceEasing),e!=this.x||k!=this.y){if(0<e||e<this.maxScrollX||0<k||k<this.maxScrollY)h=d.ease.quadratic;this.scrollTo(e,k,b,h)}else this._execEvent("scrollEnd");else this.options.tap&&d.tap(a,this.options.tap),this.options.click&&d.click(a),this._execEvent("scrollCancel")}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},
resetPosition:function(a){var b=this.x,c=this.y;!this.hasHorizontalScroll||0<this.x?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX);!this.hasVerticalScroll||0<this.y?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY);if(b==this.x&&c==this.y)return!1;this.scrollTo(b,c,a||0,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=
this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=
this.endTime=0;this.wrapperOffset=d.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]);this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);-1<c&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,e){a=this.x+a;b=this.y+b;this.scrollTo(a,
b,c||0,e)},scrollTo:function(a,b,c,e){e=e||d.ease.circular;this.isInTransition=this.options.useTransition&&0<c;var f=this.options.useTransition&&e.style;!c||f?(f&&(this._transitionTimingFunction(e.style),this._transitionTime(c)),this._translate(a,b)):this._animate(a,b,c,e.fn)},scrollToElement:function(a,b,c,e,k){if(a=a.nodeType?a:this.scroller.querySelector(a)){var i=d.offset(a);i.left-=this.wrapperOffset.left;i.top-=this.wrapperOffset.top;!0===c&&(c=f.round(a.offsetWidth/2-this.wrapper.offsetWidth/
2));!0===e&&(e=f.round(a.offsetHeight/2-this.wrapper.offsetHeight/2));i.left-=c||0;i.top-=e||0;i.left=0<i.left?0:i.left<this.maxScrollX?this.maxScrollX:i.left;i.top=0<i.top?0:i.top<this.maxScrollY?this.maxScrollY:i.top;b=void 0===b||null===b||"auto"===b?f.max(f.abs(this.x-i.left),f.abs(this.y-i.top)):b;this.scrollTo(i.left,i.top,b,k)}},_transitionTime:function(a){var a=a||0,b=d.style.transitionDuration;this.scrollerStyle[b]=a+"ms";if(!a&&d.isBadAndroid){this.scrollerStyle[b]="0.0001ms";var c=this;
s(function(){"0.0001ms"===c.scrollerStyle[b]&&(c.scrollerStyle[b]="0s")})}if(this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(a)},_transitionTimingFunction:function(a){this.scrollerStyle[d.style.transitionTimingFunction]=a;if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[d.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:
(a=f.round(a),b=f.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px");this.x=a;this.y=b;if(this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].updatePosition()},_initEvents:function(a){var a=a?d.removeEvent:d.addEvent,b=this.options.bindToWrapper?this.wrapper:g;a(g,"orientationchange",this);a(g,"resize",this);this.options.click&&a(this.wrapper,"click",this,!0);this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(b,"mousemove",this),a(b,"mousecancel",
this),a(b,"mouseup",this));d.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,d.prefixPointerEvent("pointerdown"),this),a(b,d.prefixPointerEvent("pointermove"),this),a(b,d.prefixPointerEvent("pointercancel"),this),a(b,d.prefixPointerEvent("pointerup"),this));d.hasTouch&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",this),a(b,"touchmove",this),a(b,"touchcancel",this),a(b,"touchend",this));a(this.scroller,"transitionend",this);a(this.scroller,"webkitTransitionEnd",this);a(this.scroller,
"oTransitionEnd",this);a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a=g.getComputedStyle(this.scroller,null),b;this.options.useTransform?(a=a[d.style.transform].split(")")[0].split(", "),b=+(a[12]||a[4]),a=+(a[13]||a[5])):(b=+a.left.replace(/[^-\d.]/g,""),a=+a.top.replace(/[^-\d.]/g,""));return{x:b,y:a}},_initIndicators:function(){function a(a){if(f.indicators)for(var b=f.indicators.length;b--;)a.call(f.indicators[b])}var b=this.options.interactiveScrollbars,c="string"!=
typeof this.options.scrollbars,e=[],d,f=this;this.indicators=[];this.options.scrollbars&&(this.options.scrollY&&(d={el:u("v",b,this.options.scrollbars),interactive:b,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),e.push(d)),this.options.scrollX&&(d={el:u("h",b,this.options.scrollbars),interactive:b,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeScrollbars,
shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),e.push(d)));this.options.indicators&&(e=e.concat(this.options.indicators));for(b=e.length;b--;)this.indicators.push(new v(this,e[b]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,
!0)})}));this.on("refresh",function(){a(function(){this.refresh()})});this.on("destroy",function(){a(function(){this.destroy()});delete this.indicators})},_initWheel:function(){d.addEvent(this.wrapper,"wheel",this);d.addEvent(this.wrapper,"mousewheel",this);d.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){clearTimeout(this.wheelTimeout);this.wheelTimeout=null;d.removeEvent(this.wrapper,"wheel",this);d.removeEvent(this.wrapper,"mousewheel",this);d.removeEvent(this.wrapper,
"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();var b,c,e,d=this;void 0===this.wheelTimeout&&d._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){d.options.snap||d._execEvent("scrollEnd");d.wheelTimeout=void 0},400);if("deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,a=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,a=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,
a=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=a=a.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in a)b=a=-a.detail/3*this.options.mouseWheelSpeed;else return;b*=this.options.invertWheelDirection;a*=this.options.invertWheelDirection;this.hasVerticalScroll||(b=a,a=0);this.options.snap?(c=this.currentPage.pageX,e=this.currentPage.pageY,0<b?c--:0>b&&c++,0<a?e--:0>a&&e++,this.goToPage(c,e)):(c=this.x+f.round(this.hasHorizontalScroll?b:0),e=this.y+f.round(this.hasVerticalScroll?
a:0),this.directionX=0<b?-1:0>b?1:0,this.directionY=0<a?-1:0>a?1:0,0<c?c=0:c<this.maxScrollX&&(c=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY),this.scrollTo(c,e,0))}},_initSnap:function(){this.currentPage={};"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var a=0,b,c=0,e,d,i,g=0,h;e=this.options.snapStepX||this.wrapperWidth;var l=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&
this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap){d=f.round(e/2);for(i=f.round(l/2);g>-this.scrollerWidth;){this.pages[a]=[];for(h=b=0;h>-this.scrollerHeight;)this.pages[a][b]={x:f.max(g,this.maxScrollX),y:f.max(h,this.maxScrollY),width:e,height:l,cx:g-d,cy:h-i},h-=l,b++;g-=e;a++}}else{l=this.options.snap;b=l.length;for(e=-1;a<b;a++){if(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)c=0,e++;this.pages[c]||(this.pages[c]=[]);g=f.max(-l[a].offsetLeft,this.maxScrollX);
h=f.max(-l[a].offsetTop,this.maxScrollY);d=g-f.round(l[a].offsetWidth/2);i=h-f.round(l[a].offsetHeight/2);this.pages[c][e]={x:g,y:h,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:d,cy:i};g>this.maxScrollX&&c++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=this.snapThresholdX=this.options.snapThreshold:(this.snapThresholdX=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),
this.snapThresholdY=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var a=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.x-this.startX),1E3),f.min(f.abs(this.y-this.startY),1E3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,g=0;if(f.abs(a-this.absStartX)<
this.snapThresholdX&&f.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;g<d;g++)if(b>=this.pages[0][g].cy){b=this.pages[0][g].y;break}c==this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x);g==this.currentPage.pageY&&(g+=this.directionY,
0>g?g=0:g>=this.pages[0].length&&(g=this.pages[0].length-1),b=this.pages[0][g].y);return{x:a,y:b,pageX:c,pageY:g}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing;a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0);b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var g=this.pages[a][b].x,i=this.pages[a][b].y,c=void 0===c?this.options.snapSpeed||f.max(f.max(f.min(f.abs(g-this.x),1E3),f.min(f.abs(i-this.y),1E3)),300):c;this.currentPage={x:g,y:i,pageX:a,pageY:b};this.scrollTo(g,
i,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++;c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++);this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--;0>c&&this.hasVerticalScroll&&(c=0,d--);this.goToPage(c,d,a,b)},_initKeys:function(){var a={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},b;if("object"==typeof this.options.keyBindings)for(b in this.options.keyBindings)"string"==typeof this.options.keyBindings[b]&&
(this.options.keyBindings[b]=this.options.keyBindings[b].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(b in a)this.options.keyBindings[b]=this.options.keyBindings[b]||a[b];d.addEvent(g,"keydown",this);this.on("destroy",function(){d.removeEvent(g,"keydown",this)})},_key:function(a){if(this.enabled){var b=this.options.snap,c=b?this.currentPage.pageX:this.x,e=b?this.currentPage.pageY:this.y,g=d.getTime(),i=this.keyTime||0,h;this.options.useTransition&&this.isInTransition&&(h=this.getComputedPosition(),
this._translate(f.round(h.x),f.round(h.y)),this.isInTransition=!1);this.keyAcceleration=200>g-i?f.min(this.keyAcceleration+0.25,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?c+=b?1:this.wrapperWidth:e+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?c-=b?1:this.wrapperWidth:e-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:c=b?this.pages.length-1:this.maxScrollX;
e=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=c=0;break;case this.options.keyBindings.left:c+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:e+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:c-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:e-=b?1:5+this.keyAcceleration>>0;break;default:return}b?this.goToPage(c,e):(0<c?this.keyAcceleration=c=0:c<this.maxScrollX&&(c=this.maxScrollX,this.keyAcceleration=
0),0<e?this.keyAcceleration=e=0:e<this.maxScrollY&&(e=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(c,e,0),this.keyTime=g)}},_animate:function(a,b,c,e){function f(){var m=d.getTime(),n;m>=o?(g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd")):(m=(m-l)/c,n=e(m),m=(a-h)*n+h,n=(b-j)*n+j,g._translate(m,n),g.isAnimating&&s(f))}var g=this,h=this.x,j=this.y,l=d.getTime(),o=l+c;this.isAnimating=!0;f()},handleEvent:function(a){switch(a.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(a);
break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(a);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._wheel(a);
break;case "keydown":this._key(a);break;case "click":this.enabled&&!a._constructed&&(a.preventDefault(),a.stopPropagation())}}};v.prototype={handleEvent:function(a){switch(a.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(a)}},
destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null);this.options.interactive&&(d.removeEvent(this.indicator,"touchstart",this),d.removeEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.removeEvent(this.indicator,"mousedown",this),d.removeEvent(g,"touchmove",this),d.removeEvent(g,d.prefixPointerEvent("pointermove"),this),d.removeEvent(g,"mousemove",this),d.removeEvent(g,"touchend",this),d.removeEvent(g,d.prefixPointerEvent("pointerup"),
this),d.removeEvent(g,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var b=a.touches?a.touches[0]:a;a.preventDefault();a.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=b.pageX;this.lastPointY=b.pageY;this.startTime=d.getTime();this.options.disableTouch||d.addEvent(g,"touchmove",this);this.options.disablePointer||d.addEvent(g,d.prefixPointerEvent("pointermove"),this);this.options.disableMouse||
d.addEvent(g,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b=a.touches?a.touches[0]:a,c,e;d.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;c=b.pageX-this.lastPointX;this.lastPointX=b.pageX;e=b.pageY-this.lastPointY;this.lastPointY=b.pageY;this._pos(this.x+c,this.y+e);a.preventDefault();a.stopPropagation()},_end:function(a){if(this.initiated){this.initiated=!1;a.preventDefault();a.stopPropagation();d.removeEvent(g,"touchmove",this);
d.removeEvent(g,d.prefixPointerEvent("pointermove"),this);d.removeEvent(g,"mousemove",this);if(this.scroller.options.snap){var a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),b=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.scroller.x-a.x),1E3),f.min(f.abs(this.scroller.y-a.y),1E3)),300);if(this.scroller.x!=a.x||this.scroller.y!=a.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=a,this.scroller.scrollTo(a.x,a.y,b,this.scroller.options.bounceEasing)}this.moved&&
this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){var a=a||0,b=d.style.transitionDuration;this.indicatorStyle[b]=a+"ms";if(!a&&d.isBadAndroid){this.indicatorStyle[b]="0.0001ms";var c=this;s(function(){"0.0001ms"===c.indicatorStyle[b]&&(c.indicatorStyle[b]="0s")})}},transitionTimingFunction:function(a){this.indicatorStyle[d.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?
"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(d.addClass(this.wrapper,"iScrollBothScrollbars"),d.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):
(d.removeClass(this.wrapper,"iScrollBothScrollbars"),d.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=f.max(f.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+
"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=f.max(f.round(this.wrapperHeight*
this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&
this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&f.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&f.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=f.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=f.max(this.indicatorWidth-
(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=f.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=f.max(this.indicatorHeight-
3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"));this.x=a;this.y=b;this.scroller.options.useTransform?this.indicatorStyle[d.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,
b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX);0>b?b=0:b>this.maxPosY&&(b=this.maxPosY);a=this.options.listenX?f.round(a/this.sizeRatioX):this.scroller.x;b=this.options.listenY?f.round(b/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var c=a?250:500,e=a?0:300;this.wrapperStyle[d.style.transitionDuration]=c+"ms";this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a;this.visible=+a}.bind(this,
a?"1":"0"),e)}}};p.utils=d;"undefined"!=typeof t&&t.exports?t.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):g.IScroll=p});$rmod.def("/src/modules/vi-components/app-theme-card/index",function(e,h,f){var g=e("/$/raptor-pubsub");f.exports=e("/$/marko-widgets").defineComponent({template:e.resolve("./template.marko"),init:function(){this.rootEl=this.el;this.bindEventListeners();this.triggerThemeCarousel()},bindEventListeners:function(){var a=$(this.rootEl).find(".theme-title-wrap .theme-help-icon"),b=a.attr("data-theme-layerId");a.on("click",function(){var a=$(this);if(a&&a.attr("data-tracking")){var d=a.attr("data-tracking");
$(document).trigger("pulsar",$.parseJSON(d));a.removeAttr("data-tracking")}g.emit("ebayui.overlay.open",{id:b})})},triggerThemeCarousel:function(){var a=$(this.rootEl);$(this.rootEl).find(".theme-item-wrapper");this.carouselWrapperDiv=this.rootEl.getElementsByClassName("theme-item-wrapper")[0];var b=a.find(".theme-item-wrapper .theme-items"),a=a.find(".theme-item-wrapper .theme-items .theme-item-action-wrapper");b&&(a&&1<a.length)&&(this.computeIScrollWidth(b,a),this.triggerIScroll(),this.bindResizeEvent(b,
a))},computeIScrollWidth:function(a,b){if(a&&b){var c=b.length*$(b[0]).outerWidth();a.width(c)}},iScroller:null,carouselWrapperDiv:null,triggerIScroll:function(){var a=e("/$/iscroll/build/iscroll"),b=this,c=this.carouselWrapperDiv;b.iScroller=new a(c,{scrollX:!0,scrollY:!1,scrollbars:!1,snap:"li.theme-item-action-wrapper",snapSpeed:700,momentum:!1,eventPassthrough:!0,preventDefault:!0});b.iScroller.on("scrollStart",function(){b.handleScrollStartEvent(c)})},bindResizeEvent:function(a,b){var c=this;
$(window).on("resize",function(){c.computeIScrollWidth(a,b)})},refreshIscroll:function(){setTimeout(function(){this.iScroller.refresh()},0)},handleScrollStartEvent:function(a){var b;$(a).find(".theme-image-feed img[data-url]").each(function(a,d){if(b=$(d).data("url"))$(d).attr("src",b),$(d).removeAttr("data-url")})}})});$rmod.main("/iscroll@5.2.0","build/iscroll");$rmod.dep("/$/vi-component-image","vi-component-action","1.0.0");$rmod.def("/vi-component-image@1.0.0/template.marko",function(h,j,d,e){(d.exports=h("/$/marko").c(e)).c(function(b){var f=b.ne,d=b.r,e=d(h("/$/vi-component-image/$/vi-component-action")),i=b.t,g=b.xa,c=b.a;return function(a,b){f(a)&&f(a.model)&&i(b,e,{model:a.model.action},function(b){b.w('<span class="cc-image-component">');if(f(a.model.bgId))b.w('<span class="cc-image-background '+g(a.class)+" cc-background-"+g(a.model.bgId)+'"></span>');else{if(f(a.model.originalSize))var d=a.model.originalSize.width,
e=a.model.originalSize.height;b.w('<img itemprop="image"'+c("width",d||"")+c("height",e||"")+c("src",a.model.URL||"")+c("alt",a.model.title||"")+c("id",a.id||"")+c("style",a.style||"")+' class="'+g(a.class||"")+' cc-image">')}b.w("</span> ")})}})});$rmod.dep("","vi-component-image","1.0.0");$rmod.def("/vi-component-image@1.0.0/renderer",function(a,d,b){var c=a("/$/marko").load(a.resolve("./template.marko"));b.exports=function(a,b){c.render(a,b)}});$rmod.def("/src/modules/vi-components/app-theme-next-product/template.marko",function(h,o,i,n){(i.exports=h("/$/marko").c(n)).c(function(d){var k=d.ne,i=d.xa,j=d.f,l=d.r,f=l(h("/$/vi-component-textualdisplay")),e=d.t,g=d.a,m=l(h("/$/vi-component-image/renderer"));return function(d,a){d.model&&d.model.nextBestProducts&&(a.w('<div class="next-best-panel clearfix '+i(1<d.model.nextBestProducts.length?"fit":"")+'">'),j(d.model.nextBestProducts,function(b){a.w('<section class="app-theme-next clearfix"><div class="theme-title-wrap clearfix">');
b.themeName&&(a.w('<h2 class="theme-name">'),e(a,f,{model:b.themeName}),a.w("</h2>"));a.w("</div>");if(b.action){a.w('<div class="theme-item-wrapper">');var c=b.action;d.options.isSmall?(a.w("<a"+g("href",c.URL?c.URL:"")+g("_sp",c.tracking&&c.tracking.eventProperty?c.tracking.eventProperty.sid:"")+'><div class="theme-item"><div class="image">'),b.image&&e(a,m,{model:b.image}),a.w('</div><div class="offer">'),b.title&&(a.w('<h3 class="item">'),e(a,f,{model:b.title}),a.w("</h3>")),a.w('<div class="theme-details">'),
b.displayPrice&&(a.w('<div class="price">'),e(a,f,{model:b.displayPrice}),a.w("</div>")),k(b.bullets)&&(a.w('<ul class="bullets">'),j(b.bullets,function(b){a.w('<li><span class="lights">');e(a,f,{model:b});a.w("</span></li>")}),a.w("</ul>")),a.w("</div></div></div></a>")):(a.w('<div class="theme-item clearfix"><div class="image"><a'+g("href",c.URL?c.URL:"")+g("_sp",c.tracking&&c.tracking.eventProperty?c.tracking.eventProperty.sid:"")+">"),b.image&&e(a,m,{model:b.image}),a.w('</a></div><div class="offer">'),
b.title&&(a.w('<h3 class="item"><a'+g("href",c.URL?c.URL:"")+g("_sp",c.tracking&&c.tracking.eventProperty?c.tracking.eventProperty.sid:"")+">"),e(a,f,{model:b.title}),a.w("</a></h3>")),a.w('<div class="theme-details">'),b.displayPrice&&(a.w('<div class="price">'),e(a,f,{model:b.displayPrice}),a.w("</div>")),k(b.bullets)&&(a.w('<ul class="bullets">'),j(b.bullets,function(b){a.w('<li><span class="lights">');e(a,f,{model:b});a.w("</span></li>")}),a.w("</ul>")),a.w("</div></div></div>"));a.w("</div>")}a.w("</section>")}),
a.w("</div>"))}})});$rmod.def("/src/modules/vi-components/app-theme-next-product/index",function(a,c,b){a("/$/raptor-pubsub");b.exports=a("/$/marko-widgets").defineComponent({template:a.resolve("./template.marko")})});$rmod.def("/src/modules/vi-components/app-variation-panel/menuscroll",function(d,f,b){b.exports=function(b,c){var e=d("/$/iscroll"),a;if(!b||!c)throw Error("$carouselWrapper, carouselWrapperSelector and state are mandatory");a=new e(c,{scrollX:!0,scrollY:!1,preventDefault:!0,mouseWheel:!1,scrollbars:!1});a.on("scrollEnd",function(){});return $.extend(this,{_iScroll:a,destroy:function(){a.destroy()}})}});$rmod.main("/src/modules/vi-components/app-film-dropdown","index");$rmod.main("/underscore@1.8.3","underscore");$rmod.dep("","underscore","1.8.3");$rmod.def("/underscore@1.8.3/underscore",function(Y,w,x){(function(){function G(a){return function(c,d,e,f){var d=q(d,f,4),g=!l(c)&&b.keys(c),h=(g||c).length,i=0<a?0:h-1;3>arguments.length&&(e=c[g?g[i]:i],i+=a);for(var m=d,k=e;0<=i&&i<h;i+=a)var j=g?g[i]:i,k=m(k,c[j],j,c);return k}}function H(a){return function(c,b,e){for(var b=j(b,e),e=o(c),f=0<a?0:e-1;0<=f&&f<e;f+=a)if(b(c[f],f,c))return f;return-1}}function I(a,c,d){return function(e,f,g){var h=0,i=o(e);if("number"==typeof g)0<a?h=0<=g?g:Math.max(g+
i,h):i=0<=g?Math.min(g+1,i):g+i+1;else if(d&&g&&i)return g=d(e,f),e[g]===f?g:-1;if(f!==f)return g=c(n.call(e,h,i),b.isNaN),0<=g?g+h:-1;for(g=0<a?h:i-1;0<=g&&g<i;g+=a)if(e[g]===f)return g;return-1}}function J(a,c){var d=K.length,e=a.constructor,e=b.isFunction(e)&&e.prototype||y,f="constructor";for(b.has(a,f)&&!b.contains(c,f)&&c.push(f);d--;)f=K[d],f in a&&(a[f]!==e[f]&&!b.contains(c,f))&&c.push(f)}var z=this,Q=z._,u=Array.prototype,y=Object.prototype,R=u.push,n=u.slice,r=y.toString,S=y.hasOwnProperty,
v=Array.isArray,L=Object.keys,A=Function.prototype.bind,M=Object.create,B=function(){},b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=a};"undefined"!==typeof w?("undefined"!==typeof x&&x.exports&&(w=x.exports=b),w._=b):z._=b;b.VERSION="1.8.3";var q=function(a,c,b){if(void 0===c)return a;switch(null==b?3:b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,d){return a.call(c,b,d)};case 3:return function(b,d,g){return a.call(c,b,d,
g)};case 4:return function(b,d,g,h){return a.call(c,b,d,g,h)}}return function(){return a.apply(c,arguments)}},j=function(a,c,d){return null==a?b.identity:b.isFunction(a)?q(a,c,d):b.isObject(a)?b.matcher(a):b.property(a)};b.iteratee=function(a,c){return j(a,c,Infinity)};var s=function(a,c){return function(b){var e=arguments.length;if(2>e||null==b)return b;for(var f=1;f<e;f++)for(var g=arguments[f],h=a(g),i=h.length,m=0;m<i;m++){var k=h[m];if(!c||void 0===b[k])b[k]=g[k]}return b}},N=function(a){if(!b.isObject(a))return{};
if(M)return M(a);B.prototype=a;a=new B;B.prototype=null;return a},t=function(a){return function(c){return null==c?void 0:c[a]}},T=Math.pow(2,53)-1,o=t("length"),l=function(a){a=o(a);return"number"==typeof a&&0<=a&&a<=T};b.each=b.forEach=function(a,c,d){var c=q(c,d),e;if(l(a)){d=0;for(e=a.length;d<e;d++)c(a[d],d,a)}else{var f=b.keys(a),d=0;for(e=f.length;d<e;d++)c(a[f[d]],f[d],a)}return a};b.map=b.collect=function(a,c,d){for(var c=j(c,d),d=!l(a)&&b.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=
d?d[g]:g;f[g]=c(a[h],h,a)}return f};b.reduce=b.foldl=b.inject=G(1);b.reduceRight=b.foldr=G(-1);b.find=b.detect=function(a,c,d){c=l(a)?b.findIndex(a,c,d):b.findKey(a,c,d);if(void 0!==c&&-1!==c)return a[c]};b.filter=b.select=function(a,c,d){var e=[],c=j(c,d);b.each(a,function(a,b,d){c(a,b,d)&&e.push(a)});return e};b.reject=function(a,c,d){return b.filter(a,b.negate(j(c)),d)};b.every=b.all=function(a,c,d){for(var c=j(c,d),d=!l(a)&&b.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!c(a[g],g,a))return!1}return!0};
b.some=b.any=function(a,c,d){for(var c=j(c,d),d=!l(a)&&b.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(c(a[g],g,a))return!0}return!1};b.contains=b.includes=b.include=function(a,c,d,e){l(a)||(a=b.values(a));if("number"!=typeof d||e)d=0;return 0<=b.indexOf(a,c,d)};b.invoke=function(a,c){var d=n.call(arguments,2),e=b.isFunction(c);return b.map(a,function(a){var b=e?c:a[c];return null==b?b:b.apply(a,d)})};b.pluck=function(a,c){return b.map(a,b.property(c))};b.where=function(a,c){return b.filter(a,
b.matcher(c))};b.findWhere=function(a,c){return b.find(a,b.matcher(c))};b.max=function(a,c,d){var e=-Infinity,f=-Infinity,g;if(null==c&&null!=a)for(var a=l(a)?a:b.values(a),h=0,i=a.length;h<i;h++)d=a[h],d>e&&(e=d);else c=j(c,d),b.each(a,function(a,b,d){g=c(a,b,d);if(g>f||-Infinity===g&&-Infinity===e)e=a,f=g});return e};b.min=function(a,c,d){var e=Infinity,f=Infinity,g;if(null==c&&null!=a)for(var a=l(a)?a:b.values(a),h=0,i=a.length;h<i;h++)d=a[h],d<e&&(e=d);else c=j(c,d),b.each(a,function(a,b,d){g=
c(a,b,d);if(g<f||Infinity===g&&Infinity===e)e=a,f=g});return e};b.shuffle=function(a){for(var a=l(a)?a:b.values(a),c=a.length,d=Array(c),e=0,f;e<c;e++)f=b.random(0,e),f!==e&&(d[e]=d[f]),d[f]=a[e];return d};b.sample=function(a,c,d){return null==c||d?(l(a)||(a=b.values(a)),a[b.random(a.length-1)]):b.shuffle(a).slice(0,Math.max(0,c))};b.sortBy=function(a,c,d){c=j(c,d);return b.pluck(b.map(a,function(a,b,d){return{value:a,index:b,criteria:c(a,b,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==
d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(c,d,e){var f={},d=j(d,e);b.each(c,function(b,e){var i=d(b,e,c);a(f,b,i)});return f}};b.groupBy=C(function(a,c,d){b.has(a,d)?a[d].push(c):a[d]=[c]});b.indexBy=C(function(a,b,d){a[d]=b});b.countBy=C(function(a,c,d){b.has(a,d)?a[d]++:a[d]=1});b.toArray=function(a){return!a?[]:b.isArray(a)?n.call(a):l(a)?b.map(a,b.identity):b.values(a)};b.size=function(a){return null==a?0:l(a)?
a.length:b.keys(a).length};b.partition=function(a,c,d){var c=j(c,d),e=[],f=[];b.each(a,function(a,b,d){(c(a,b,d)?e:f).push(a)});return[e,f]};b.first=b.head=b.take=function(a,c,d){return null==a?void 0:null==c||d?a[0]:b.initial(a,a.length-c)};b.initial=function(a,b,d){return n.call(a,0,Math.max(0,a.length-(null==b||d?1:b)))};b.last=function(a,c,d){return null==a?void 0:null==c||d?a[a.length-1]:b.rest(a,Math.max(0,a.length-c))};b.rest=b.tail=b.drop=function(a,b,d){return n.call(a,null==b||d?1:b)};b.compact=
function(a){return b.filter(a,b.identity)};var p=function(a,c,d,e){for(var f=[],g=0,e=e||0,h=o(a);e<h;e++){var i=a[e];if(l(i)&&(b.isArray(i)||b.isArguments(i))){c||(i=p(i,c,d));var m=0,k=i.length;for(f.length+=k;m<k;)f[g++]=i[m++]}else d||(f[g++]=i)}return f};b.flatten=function(a,b){return p(a,b,!1)};b.without=function(a){return b.difference(a,n.call(arguments,1))};b.uniq=b.unique=function(a,c,d,e){b.isBoolean(c)||(e=d,d=c,c=!1);null!=d&&(d=j(d,e));for(var e=[],f=[],g=0,h=o(a);g<h;g++){var i=a[g],
m=d?d(i,g,a):i;c?((!g||f!==m)&&e.push(i),f=m):d?b.contains(f,m)||(f.push(m),e.push(i)):b.contains(e,i)||e.push(i)}return e};b.union=function(){return b.uniq(p(arguments,!0,!0))};b.intersection=function(a){for(var c=[],d=arguments.length,e=0,f=o(a);e<f;e++){var g=a[e];if(!b.contains(c,g)){for(var h=1;h<d&&b.contains(arguments[h],g);h++);h===d&&c.push(g)}}return c};b.difference=function(a){var c=p(arguments,!0,!0,1);return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){return b.unzip(arguments)};
b.unzip=function(a){for(var c=a&&b.max(a,o).length||0,d=Array(c),e=0;e<c;e++)d[e]=b.pluck(a,e);return d};b.object=function(a,b){for(var d={},e=0,f=o(a);e<f;e++)b?d[a[e]]=b[e]:d[a[e][0]]=a[e][1];return d};b.findIndex=H(1);b.findLastIndex=H(-1);b.sortedIndex=function(a,b,d,e){for(var d=j(d,e,1),b=d(b),e=0,f=o(a);e<f;){var g=Math.floor((e+f)/2);d(a[g])<b?e=g+1:f=g}return e};b.indexOf=I(1,b.findIndex,b.sortedIndex);b.lastIndexOf=I(-1,b.findLastIndex);b.range=function(a,b,d){null==b&&(b=a||0,a=0);for(var d=
d||1,b=Math.max(Math.ceil((b-a)/d),0),e=Array(b),f=0;f<b;f++,a+=d)e[f]=a;return e};var O=function(a,c,d,e,f){if(!(e instanceof c))return a.apply(d,f);c=N(a.prototype);a=a.apply(c,f);return b.isObject(a)?a:c};b.bind=function(a,c){if(A&&a.bind===A)return A.apply(a,n.call(arguments,1));if(!b.isFunction(a))throw new TypeError("Bind must be called on a function");var d=n.call(arguments,2),e=function(){return O(a,e,c,this,d.concat(n.call(arguments)))};return e};b.partial=function(a){var c=n.call(arguments,
1),d=function(){for(var e=0,f=c.length,g=Array(f),h=0;h<f;h++)g[h]=c[h]===b?arguments[e++]:c[h];for(;e<arguments.length;)g.push(arguments[e++]);return O(a,d,this,this,g)};return d};b.bindAll=function(a){var c,d=arguments.length,e;if(1>=d)throw Error("bindAll must be passed function names");for(c=1;c<d;c++)e=arguments[c],a[e]=b.bind(a[e],a);return a};b.memoize=function(a,c){var d=function(e){var f=d.cache,g=""+(c?c.apply(this,arguments):e);b.has(f,g)||(f[g]=a.apply(this,arguments));return f[g]};d.cache=
{};return d};b.delay=function(a,b){var d=n.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};b.defer=b.partial(b.delay,b,1);b.throttle=function(a,c,d){var e,f,g,h=null,i=0;d||(d={});var m=function(){i=!1===d.leading?0:b.now();h=null;g=a.apply(e,f);h||(e=f=null)};return function(){var k=b.now();!i&&!1===d.leading&&(i=k);var j=c-(k-i);e=this;f=arguments;0>=j||j>c?(h&&(clearTimeout(h),h=null),i=k,g=a.apply(e,f),h||(e=f=null)):!h&&!1!==d.trailing&&(h=setTimeout(m,j));return g}};
b.debounce=function(a,c,d){var e,f,g,h,i,j=function(){var k=b.now()-h;k<c&&0<=k?e=setTimeout(j,c-k):(e=null,d||(i=a.apply(g,f),e||(g=f=null)))};return function(){g=this;f=arguments;h=b.now();var k=d&&!e;e||(e=setTimeout(j,c));k&&(i=a.apply(g,f),g=f=null);return i}};b.wrap=function(a,c){return b.partial(c,a)};b.negate=function(a){return function(){return!a.apply(this,arguments)}};b.compose=function(){var a=arguments,b=a.length-1;return function(){for(var d=b,e=a[b].apply(this,arguments);d--;)e=a[d].call(this,
e);return e}};b.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};b.before=function(a,b){var d;return function(){0<--a&&(d=b.apply(this,arguments));1>=a&&(b=null);return d}};b.once=b.partial(b.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),K="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");b.keys=function(a){if(!b.isObject(a))return[];if(L)return L(a);var c=[],d;for(d in a)b.has(a,d)&&c.push(d);P&&J(a,c);
return c};b.allKeys=function(a){if(!b.isObject(a))return[];var c=[],d;for(d in a)c.push(d);P&&J(a,c);return c};b.values=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=a[c[f]];return e};b.mapObject=function(a,c,d){for(var c=j(c,d),d=b.keys(a),e=d.length,f={},g,h=0;h<e;h++)g=d[h],f[g]=c(a[g],g,a);return f};b.pairs=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=[c[f],a[c[f]]];return e};b.invert=function(a){for(var c={},d=b.keys(a),e=0,f=d.length;e<f;e++)c[a[d[e]]]=
d[e];return c};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=s(b.allKeys);b.extendOwn=b.assign=s(b.keys);b.findKey=function(a,c,d){for(var c=j(c,d),d=b.keys(a),e,f=0,g=d.length;f<g;f++)if(e=d[f],c(a[e],e,a))return e};b.pick=function(a,c,d){var e={},f=a,g,h;if(null==f)return e;b.isFunction(c)?(h=b.allKeys(f),g=q(c,d)):(h=p(arguments,!1,!1,1),g=function(a,b,c){return b in c},f=Object(f));for(var i=0,j=h.length;i<j;i++){var k=h[i],l=f[k];
g(l,k,f)&&(e[k]=l)}return e};b.omit=function(a,c,d){if(b.isFunction(c))c=b.negate(c);else var e=b.map(p(arguments,!1,!1,1),String),c=function(a,c){return!b.contains(e,c)};return b.pick(a,c,d)};b.defaults=s(b.allKeys,!0);b.create=function(a,c){var d=N(a);c&&b.extendOwn(d,c);return d};b.clone=function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};b.isMatch=function(a,c){var d=b.keys(c),e=d.length;if(null==a)return!e;for(var f=Object(a),g=0;g<e;g++){var h=
d[g];if(c[h]!==f[h]||!(h in f))return!1}return!0};var D=function(a,c,d,e){if(a===c)return 0!==a||1/a===1/c;if(null==a||null==c)return a===c;a instanceof b&&(a=a._wrapped);c instanceof b&&(c=c._wrapped);var f=r.call(a);if(f!==r.call(c))return!1;switch(f){case "[object RegExp]":case "[object String]":return""+a===""+c;case "[object Number]":return+a!==+a?+c!==+c:0===+a?1/+a===1/c:+a===+c;case "[object Date]":case "[object Boolean]":return+a===+c}f="[object Array]"===f;if(!f){if("object"!=typeof a||
"object"!=typeof c)return!1;var g=a.constructor,h=c.constructor;if(g!==h&&(!b.isFunction(g)||!(g instanceof g&&b.isFunction(h)&&h instanceof h))&&"constructor"in a&&"constructor"in c)return!1}d=d||[];e=e||[];for(g=d.length;g--;)if(d[g]===a)return e[g]===c;d.push(a);e.push(c);if(f){g=a.length;if(g!==c.length)return!1;for(;g--;)if(!D(a[g],c[g],d,e))return!1}else{f=b.keys(a);g=f.length;if(b.keys(c).length!==g)return!1;for(;g--;)if(h=f[g],!b.has(c,h)||!D(a[h],c[h],d,e))return!1}d.pop();e.pop();return!0};
b.isEqual=function(a,b){return D(a,b)};b.isEmpty=function(a){return null==a?!0:l(a)&&(b.isArray(a)||b.isString(a)||b.isArguments(a))?0===a.length:0===b.keys(a).length};b.isElement=function(a){return!!(a&&1===a.nodeType)};b.isArray=v||function(a){return"[object Array]"===r.call(a)};b.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};b.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){b["is"+a]=function(b){return r.call(b)==="[object "+a+"]"}});
b.isArguments(arguments)||(b.isArguments=function(a){return b.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(a){return"function"==typeof a||!1});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&a!==+a};b.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===r.call(a)};b.isNull=function(a){return null===a};b.isUndefined=function(a){return void 0===a};b.has=function(a,b){return null!=a&&
S.call(a,b)};b.noConflict=function(){z._=Q;return this};b.identity=function(a){return a};b.constant=function(a){return function(){return a}};b.noop=function(){};b.property=t;b.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}};b.matcher=b.matches=function(a){a=b.extendOwn({},a);return function(c){return b.isMatch(c,a)}};b.times=function(a,b,d){for(var e=Array(Math.max(0,a)),b=q(b,d,1),d=0;d<a;d++)e[d]=b(d);return e};b.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*
(b-a+1))};b.now=Date.now||function(){return(new Date).getTime()};v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};s=b.invert(v);t=function(a){var c=function(b){return a[b]},d="(?:"+b.keys(a).join("|")+")",e=RegExp(d),f=RegExp(d,"g");return function(a){a=null==a?"":""+a;return e.test(a)?a.replace(f,c):a}};b.escape=t(v);b.unescape=t(s);b.result=function(a,c,d){c=null==a?void 0:a[c];void 0===c&&(c=d);return b.isFunction(c)?c.call(a):c};var U=0;b.uniqueId=function(a){var b=
++U+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,X=function(a){return"\\"+V[a]};b.template=function(a,c,d){!c&&d&&(c=d);var c=b.defaults({},c,b.templateSettings),d=RegExp([(c.escape||E).source,(c.interpolate||E).source,(c.evaluate||E).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,
g,h){f+=a.slice(e,h).replace(W,X);e=h+b.length;c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='");return b});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h;}d=function(a){return g.call(this,a,b)};d.source="function("+(c.variable||"obj")+
"){\n"+f+"}";return d};b.chain=function(a){a=b(a);a._chain=!0;return a};var F=function(a,c){return a._chain?b(c).chain():c};b.mixin=function(a){b.each(b.functions(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];R.apply(a,arguments);return F(this,d.apply(b,a))}})};b.mixin(b);b.each("pop push reverse shift sort splice unshift".split(" "),function(a){var c=u[a];b.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);("shift"===a||"splice"===a)&&0===b.length&&
delete b[0];return F(this,b)}});b.each(["concat","join","slice"],function(a){var c=u[a];b.prototype[a]=function(){return F(this,c.apply(this._wrapped,arguments))}});b.prototype.value=function(){return this._wrapped};b.prototype.valueOf=b.prototype.toJSON=b.prototype.value;b.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)});$rmod.def("/src/modules/vi-components/app-film-dropdown/template.marko",function(b,q,c,i){(c.exports=b("/$/marko").c(i)).c(function(a){function e(){"undefined"!=typeof window&&f.registerWidget(j,b("./index"))}var c=a.ne,f=b("/$/marko-widgets"),i=f.attrs;b("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var j="/src/modules/vi-components/app-film-dropdown/index",l=a.r,m=l(b("/$/marko-widgets/taglib/widget-tag")),n=a.t,d=a.a,o=a.as,g=a.x,p=a.f,k=a.xa;return function(a,b){e&&(e(),
e=null);var h=a.updatedModel;c(h)&&n(b,m,{config:{},module:j,_cfg:a.widgetConfig,_state:a.widgetState,_props:a.widgetProps,_body:a.widgetBody},function(b,c){b.w('<div class="app-film-dropdown"'+d("id",c.elId())+o(i(c))+">");var e=h.key,f=a.selectedModel[e];b.w('<a href="javascript:;" class="menu-selector"'+d("data-clicktracking",a.aspectTrackingData?JSON.stringify(a.aspectTrackingData):"")+d("data-variation",e)+d("data-w-onclick","bindClickHandlers|"+c.id)+'><span class="menu">'+g(e)+': </span><span class="option">'+
g(f)+'</span><span class="arrow"></span></a><div class="menu-pop" data-scroll="on"><span class="pointer-before"></span><div class="swipe-shadow-option"></div><div class="menu-scroll"><div class="super__scroller"><ul class="list"'+d("selected",f)+">");p(h.optionDetails,function(a){var c=null;h.key&&a.name&&(c=encodeURIComponent(h.key)+"_"+encodeURIComponent(a.name));"pre-selected"===a.state?b.w('<li class="pre-selected"><div class="menu-option activate"><a class="link" href="javascript:;"'+d("data-pageurl",
a.url?a.url:"")+d("data-optiondata",c?c:"")+"><span>"+g(a.name)+"</span></a></div></li>"):"in-active"===a.state||"selected"===a.state?b.w('<li class="'+k("in-active"===a.state?"disabled":"")+" "+k("selected"===a.state?"selected":"")+'"><div class="menu-option"><a class="link"><span>'+g(a.name)+"</span></a></div></li>"):b.w('<li><div class="menu-option activate"><a class="link" href="javascript:;"'+d("data-pageurl",a.url?a.url:"")+d("data-optiondata",c?c:"")+"><span>"+g(a.name)+"</span></a></div></li>")});
b.w('</ul></div></div><span class="pointer-after"></span></div></div>')})}})});$rmod.def("/src/modules/vi-components/app-film-dropdown/index",function(e,p,o){var g=e("/$/raptor-pubsub"),l=e("/$/underscore");o.exports=e("/$/marko-widgets").defineComponent({template:e.resolve("./template.marko"),init:function(){this.rootEl=this.el;this.bindEventListeners(this.el)},getInitialState:function(a){var b=a.model,c=a.selectedModel,h=a.productMapModel,i={},j=b.key;i.key=j;var b=b.value,e=c[j],g=l.omit(c,j);i.optionDetails={};var m=[],k;for(k in b){g[j]=k;var d={name:k,url:"disabled",state:"in-active"};
if(k===e)d.url="selected",d.state="selected";else for(var n in h)if(l.isMatch(h[n],g))d.state="active",d.url=h[n].URL;else if("Connectivity"===j){var f=b[k];d.state="pre-selected";d.url="javascript:;";if(f=f[0])f=h[f],f.URL&&(d.url=f.URL)}m.push(d)}i&&(i.optionDetails=m);return{updatedModel:i,selectedModel:c,productMapModel:h,aspectTrackingData:a.aspectTrackingData,options:a.options}},bindClickHandlers:function(a){a.preventDefault();a.stopPropagation();a=$(a.target).closest(".app-film-dropdown");
if(a.length&&"open"===a.attr("data-dialog-state"))this.closePop();else{this.closePop();$(".app-variation-panel").find(".app-film-dropdown").removeAttr("data-dialog-state");this.diagPointerPosition(this.el);$(this.el).attr("data-dialog-state","open");$(this.el).find(".menu-pop .list");a=$(this.el).find(".menu-pop");a.appendTo($(".variation-layer"));a.show();var b=a.find(".list li");b&&3>=b.length&&(a.find(".swipe-shadow-option").hide(),a.attr("data-scroll","off"));b&&3<b.length&&(b=b.first().width()*
b.length,a.find(".swipe-shadow-option").show(),a.find(".super__scroller").width(b));g.emit("prp__filmdropdown__state__open",{wrapper:this.el,popWrapper:a})}},diagPointerPosition:function(a){var b=$(".app-variation-panel .swipe").outerWidth(),c=$(a).find(".menu-selector .option");c&&0<c.length&&(a=$(a).find(".pointer-before, .pointer-after"),c=$(c).position().left,c>b&&(c=b-25),a.css({left:c-11}))},bindEventListeners:function(){var a=this;$(document).on("click",function(b){b.stopPropagation();b.target&&
(!$(b.target).hasClass("menu-pop")&&!$(".menu-pop").find(b.target).length)&&a.closePop()});a.subscribeTo(g).on("prp__filmdropdown__state__close",function(){a.closePop()})},closePop:function(){$(".variation-layer").find(".menu-pop").appendTo($(".app-variation-panel div[data-dialog-state='open']"));$(".app-variation-panel").find(".app-film-dropdown .menu-pop").hide();$(".app-variation-panel").find(".app-film-dropdown").removeAttr("data-dialog-state");$(".page-mask-layer").css({height:0,opacity:0}).removeClass("masklayer")}})});$rmod.def("/src/modules/vi-components/app-variation-panel/template.marko",function(a,p,e,f){(e.exports=a("/$/marko").c(f)).c(function(b){function g(){"undefined"!=typeof window&&i.registerWidget(j,a("./index"))}var i=a("/$/marko-widgets"),e=i.attrs;a("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var j="/src/modules/vi-components/app-variation-panel/index",k=b.r,f=k(a("/$/marko-widgets/taglib/widget-tag")),l=b.t,h=b.a,m=b.as,n=b.f,o=k(a("../app-film-dropdown"));return function(c,
a){g&&(g(),g=null);if(c&&c.model&&c.model.aspectsToEpid){a.w('<div class="swipe-shadow"></div>');l(a,f,{config:{},id:"variation-panel",module:j,_cfg:c.widgetConfig,_state:c.widgetState,_props:c.widgetProps,_body:c.widgetBody},function(a,b){a.w('<div class="app-variation-panel"'+h("id",b.elId())+m(e(b))+'><div class="swipe">');n(c.model.aspectsToEpid,function(b){l(a,o,{model:b,selectedModel:c.model.currentSelection,productMapModel:c.model.productDetails,aspectsToEpidModel:c.model.aspectsToEpid,aspectTrackingData:c.model.aspectClickTracking})});
a.w("</div></div>")});var b=null,d=c.model.filtersClickTracking;d&&(d.eventProperty&&d.eventProperty.sid)&&(b=d.eventProperty.sid);a.w('<div class="variation-layer" role="dialog"'+h("_sp",b?b:"")+h("data-filtertrackingdata",d?JSON.stringify(d):"")+'></div><div class="mask page-mask-layer"></div>')}}})});$rmod.def("/src/modules/vi-components/app-variation-panel/index",function(e,j,h){var g=e("/$/raptor-pubsub"),i=e("./menuscroll");h.exports=e("/$/marko-widgets").defineComponent({template:e.resolve("./template.marko"),init:function(){this.rootEl=this.el;this.bindEventListeners();this.triggerVariationBarScroll();this.bindOptionClickHandlers()},getInitialState:function(a){return{model:a.model,options:a.options}},bindEventListeners:function(){var a=this;a.subscribeTo(g).on("prp__filmdropdown__state__open",
function(b){var c=b.wrapper.id+"_menu-scroll",d=b.popWrapper;$(".variation-layer").find(".menu-scroll").attr("id",c);b.wrapper&&a.initVariationClickTracking($(b.wrapper));d&&(a.mainView=new i($(".variation-layer"),"#"+c,{}),d.attr("data-scroll","off"));a.maskPageOn(b)})},triggerVariationBarScroll:function(){$("#variation-panel").scroll(function(){g.emit("prp__filmdropdown__state__close",{})});$(window).on("scroll",function(){g.emit("prp__filmdropdown__state__close",{})});$("#variation-panel").addClass("variation-webkit-touch")},
maskPageOn:function(){$(".page-mask-layer").css({height:this.calculateMaskHeight().height||"3000px",opacity:0.35,top:this.calculateMaskHeight().top}).addClass("masklayer")},calculateMaskHeight:function(){var a=0,a=$(".app-variation-panel").offset().top,a=$(document).height()-(a+35);return{height:a+"px",top:"35px"}},bindOptionClickHandlers:function(){var a=this,b,c,d=$(".variation-layer"),f;$(".menu-pop .menu-scroll").on("click",".menu-option.activate",function(e){e.stopPropagation();b=$(this).find(".link");
c=b.attr("data-optiondata");if(d&&d.attr("data-filtertrackingdata")&&c&&(f=$.parseJSON(d.attr("data-filtertrackingdata")))&&f.eventProperty&&f.eventProperty.sid)f.eventProperty.sid=f.eventProperty.sid+"_"+c,a.triggerPulsar(d,"data-filtertrackingdata",JSON.stringify(f));b&&b.attr("data-pageurl")&&(window.location.href=b.attr("data-pageurl"))})},initVariationClickTracking:function(a){if((a=a.find(".menu-selector"))&&a.attr("data-clicktracking")&&a.attr("data-variation")){var b=a.attr("data-clicktracking");
b&&(b=$.parseJSON(b),b.eventProperty&&b.eventProperty.sid&&(b.eventProperty.sid=b.eventProperty.sid+"_"+encodeURIComponent(a.attr("data-variation")),this.triggerPulsar(a,"data-clicktracking",JSON.stringify(b))))}},triggerPulsar:function(a,b,c){$(document).trigger("pulsar",$.parseJSON(c));a.removeAttr(b)}})});$rmod.def("/src/modules/vi-components/app-product-video/template.marko",function(b,p,f,g){(f.exports=b("/$/marko").c(g)).c(function(a){function h(){"undefined"!=typeof window&&i.registerWidget(j,b("./"))}var f=a.ne,i=b("/$/marko-widgets"),g=i.attrs;b("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var j="/src/modules/vi-components/app-product-video",k=a.x,l=a.r,m=l(b("/$/marko-widgets/taglib/widget-tag")),n=a.t,d=a.a,o=a.as;return function(c,a){h&&(h(),h=null);var b=c.model;
if(b.mediaProperties){var e=b.mediaProperties;f(e.webyclip_external_id)&&(a.w('<div class="product-video-wrapper"><h3>'+k(c.title)+'</h3><ul><li><div class="s-name">Video</div><div class="s-value" id="webyclipEmbeded-wrapper">'),n(a,m,{config:{mediaConfig:e},id:"webyclipEmbeded",module:j,_cfg:c.widgetConfig,_state:c.widgetState,_props:c.widgetProps,_body:c.widgetBody},function(a,b){a.w("<div"+d("id",b.elId())+d("webyclip-product-page-title",c.productTitle)+d("webyclip-product-name",e.webyclip_product_name[0])+
d("webyclip-external-id",e.webyclip_external_id[0])+d("webyclip-category",e.webyclip_category[0])+d("webyclip-subcategory",e.webyclip_subcategory[0])+" webyclipSubcategory"+o(g(b))+"></div>")}),a.w("</div></li></ul></div>"))}}})});$rmod.def("/src/modules/vi-components/app-product-video/index",function(b,d,c){c.exports=b("/$/marko-widgets").defineComponent({template:b.resolve("./template.marko"),init:function(a){var b=this;$(window).load(function(){b.webyClipVideoScript(a)})},webyClipVideoScript:function(a){0<$(".product-description .product-video-wrapper #webyclipEmbeded").length&&(window.webyclipProductData=a.mediaConfig,a=document.createElement("script"),a.async=!0,a.src="http://ir.ebaystatic.com/rs/c/webyclip-ebay-pdp-default-loader-vr4.min.js",
document.getElementById("webyclipEmbeded-wrapper").appendChild(a))}})});$rmod.main("/src/modules/vi-components/app-product-video","index");$rmod.def("/src/modules/vi-components/app-product-spectification/template.marko",function(h,m,f,g){(f.exports=h("/$/marko").c(g)).c(function(a){var f=a.ne,g=a.r,k=g(h("../app-product-video")),l=a.t,i=a.fp,e=a.x,j=a.a;return function(a,b){var c=a.model;b.w('<section class="product-spectification">');c.digitalMedias&&f(c.digitalMedias)&&(b.w('<div id="leftContent"><div class="spec-row row-fluid">'),l(b,k,{model:c.digitalMedias[0],title:"Product Highlights",productName:"model.title.textSpans[0].text"}),
b.w("</div></div>"));c.productDetails&&i(c.productDetails,function(a,c){b.w('<div class="spec-row"><h3>'+e(a)+"</h3><ul>");i(c,function(c,d){b.w("<li"+j("class",a===c?"s-fw":"")+'><div class="s-name">'+e(c)+"</div>");d&&d.value?b.w('<div class="s-value"'+j("itemprop",d.schema)+">"+e(d.value)+"</div>"):b.w('<div class="s-value">'+e(d)+"</div>");b.w("</li>")});b.w("</ul></div>")});b.w("</section>")}})});$rmod.main("/src/modules/vi-components/app-product-description","index");$rmod.def("/src/modules/vi-components/app-product-description/template.marko",function(b,s,g,h){(g.exports=b("/$/marko").c(h)).c(function(c){function i(){"undefined"!=typeof window&&(d.registerWidget(f,b("./")),d.registerWidget(f,b("./")))}var g=c.s,h=c.ne,d=b("/$/marko-widgets"),k=d.attrs;b("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var f="/src/modules/vi-components/app-product-description",l=b("/$/vi-template-helper"),e=c.a,m=c.r,p=m(b("/$/vi-component-textspans")),j=
c.t,n=m(b("/$/marko-widgets/taglib/widget-tag")),o=c.as,q=c.l(b.resolve("../app-product-spectification/template.marko")),r=c.f;return function(a,b){i&&(i(),i=null);componentTrackingId=l.getReferredTrackingId(a.model.meta?a.model.meta.trackingList:null);if(a.model.productDetails||a.model.digitalMedias||a.model.description){b.w('<div class="product-description card"'+e("_sp",componentTrackingId?componentTrackingId:"")+e("data-scrolltracking",l.getScrollTrackingId(a.model.meta?a.model.meta.trackingList:
null,!0))+">");h(a.model.descriptionTitle)&&(b.w('<h2 class="box-title">'),j(b,p,{model:a.model.descriptionTitle.textSpans}),b.w("</h2>"));a.model.productDetails||a.model.digitalMedias?j(b,n,{config:{},module:f,_cfg:a.widgetConfig,_state:a.widgetState,_props:a.widgetProps,_body:a.widgetBody},function(b,c){b.w('<div class="description" itemprop="description"'+e("id",c.elId())+o(k(c))+">");q.render({model:a.model},b);b.w("</div>")}):a.model.description&&j(b,n,{module:f,_cfg:a.widgetConfig,_state:a.widgetState,
_props:a.widgetProps,_body:a.widgetBody},function(b,c){b.w('<div class="description" itemprop="description"'+e("id",c.elId())+o(k(c))+">");r(a.model.description.textSpans,function(a){b.w(g(a.text))});b.w("</div>")});var c=null,d=null;a.model.clientSideTrackingDetails&&(a.model.clientSideTrackingDetails.descriptionToggleOpenTracking&&(c=a.model.clientSideTrackingDetails.descriptionToggleOpenTracking.eventProperty.sid),a.model.clientSideTrackingDetails.descriptionToggleCloseTracking&&(d=a.model.clientSideTrackingDetails.descriptionToggleCloseTracking.eventProperty.sid));
b.w('<a href="javascipt:;" class="see-more icon-chevron-down"'+e("data-toggle-open-tracking",c?c:"")+e("data-toggle-close-tracking",d?d:"")+"></a></div>")}}})});$rmod.def("/src/modules/vi-components/app-product-description/index",function(a,g,f){f.exports=a("/$/marko-widgets").defineComponent({template:a.resolve("./template.marko"),init:function(){185<$(this.el).outerHeight(!0)?($(this.el).parent(".product-description").addClass("collapsed"),this.toggleDescriptionContainer()):$(".product-description .see-more").remove()},toggleDescriptionContainer:function(){var a=$(".product-description"),c=!0,d,b;$(".see-more").show().on("click",function(e){d=$(document);
e&&e.preventDefault();c?(b=$(this).data("toggle-open-tracking"),$(this).attr("class","see-more icon-chevron-up"),d.trigger("rover",{sid:b}),c=!1):(b=$(this).data("toggle-close-tracking"),$(this).attr("class","see-more icon-chevron-down"),$("body").animate({scrollTop:a.offset().top-12},0),d.trigger("rover",{sid:b}),c=!0);a.toggleClass("collapsed")})}})});!function(d){var q=!0;d.flexslider=function(g,j){var a=d(g);a.vars=d.extend({},d.flexslider.defaults,j);var e=a.vars.namespace,x=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,t=("ontouchstart"in window||x||window.DocumentTouch&&document instanceof DocumentTouch)&&a.vars.touch,h="",y,n="vertical"===a.vars.direction,m=a.vars.reverse,k=0<a.vars.itemWidth,o="fade"===a.vars.animation,s=""!==a.vars.asNavFor,f={};d.data(g,"flexslider",a);f={init:function(){a.animating=!1;a.currentSlide=
parseInt(a.vars.startAt?a.vars.startAt:0,10);isNaN(a.currentSlide)&&(a.currentSlide=0);a.animatingTo=a.currentSlide;a.atEnd=0===a.currentSlide||a.currentSlide===a.last;a.containerSelector=a.vars.selector.substr(0,a.vars.selector.search(" "));a.slides=d(a.vars.selector,a);a.container=d(a.containerSelector,a);a.count=a.slides.length;a.syncExists=0<d(a.vars.sync).length;"slide"===a.vars.animation&&(a.vars.animation="swing");a.prop=n?"top":"marginLeft";a.args={};a.manualPause=!1;a.stopped=!1;a.started=
!1;a.startTimeout=null;var b=a,c;if(c=!a.vars.video)if(c=!o)if(c=a.vars.useCSS)a:{c=document.createElement("div");var i=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],e;for(e in i)if(void 0!==c.style[i[e]]){c=(a.pfx=i[e].replace("Perspective","").toLowerCase(),a.prop="-"+a.pfx+"-transform",!0);break a}c=!1}b.transitions=c;a.ensureAnimationEnd="";""!==a.vars.controlsContainer&&(a.controlsContainer=0<d(a.vars.controlsContainer).length&&d(a.vars.controlsContainer));
""!==a.vars.manualControls&&(a.manualControls=0<d(a.vars.manualControls).length&&d(a.vars.manualControls));""!==a.vars.customDirectionNav&&(a.customDirectionNav=2===d(a.vars.customDirectionNav).length&&d(a.vars.customDirectionNav));a.vars.randomize&&(a.slides.sort(function(){return Math.round(Math.random())-0.5}),a.container.empty().append(a.slides));a.doMath();a.setup("init");a.vars.controlNav&&f.controlNav.setup();a.vars.directionNav&&f.directionNav.setup();a.vars.keyboard&&(1===d(a.containerSelector).length||
a.vars.multipleKeyboard)&&d(document).bind("keyup",function(b){b=b.keyCode;if(!a.animating&&(39===b||37===b))b=39===b?a.getTarget("next"):37===b?a.getTarget("prev"):!1,a.flexAnimate(b,a.vars.pauseOnAction)});a.vars.mousewheel&&a.bind("mousewheel",function(b,c){b.preventDefault();var d=0>c?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(d,a.vars.pauseOnAction)});a.vars.pausePlay&&f.pausePlay.setup();a.vars.slideshow&&a.vars.pauseInvisible&&f.pauseInvisible.init();a.vars.slideshow&&(a.vars.pauseOnHover&&
a.hover(function(){a.manualPlay||a.manualPause||a.pause()},function(){a.manualPause||a.manualPlay||a.stopped||a.play()}),a.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(0<a.vars.initDelay?a.startTimeout=setTimeout(a.play,a.vars.initDelay):a.play()));s&&f.asNav.setup();t&&a.vars.touch&&f.touch();(!o||o&&a.vars.smoothHeight)&&d(window).bind("resize orientationchange focus",f.resize);a.find("img").attr("draggable","false");setTimeout(function(){a.vars.start(a)},200)},asNav:{setup:function(){a.asNav=
!0;a.animatingTo=Math.floor(a.currentSlide/a.move);a.currentItem=a.currentSlide;a.slides.removeClass(e+"active-slide").eq(a.currentItem).addClass(e+"active-slide");x?(g._slider=a,a.slides.each(function(){this._gesture=new MSGesture;this._gesture.target=this;this.addEventListener("MSPointerDown",function(a){a.preventDefault();a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1);this.addEventListener("MSGestureTap",function(b){b.preventDefault();var b=d(this),c=b.index();
d(a.vars.asNavFor).data("flexslider").animating||b.hasClass("active")||(a.direction=a.currentItem<c?"next":"prev",a.flexAnimate(c,a.vars.pauseOnAction,!1,!0,!0))})})):a.slides.on("click touchend MSPointerUp keyup",function(b){b.preventDefault();var b=d(this),c=b.index();0>=b.offset().left-d(a).scrollLeft()&&b.hasClass(e+"active-slide")?a.flexAnimate(a.getTarget("prev"),!0):d(a.vars.asNavFor).data("flexslider").animating||b.hasClass(e+"active-slide")||(a.direction=a.currentItem<c?"next":"prev",a.flexAnimate(c,
a.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){a.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var b=1,c,i;if(a.controlNavScaffold=d('<ol class="'+e+"control-nav "+e+("thumbnails"===a.vars.controlNav?"control-thumbs":"control-paging")+'"></ol>'),1<a.pagingCount)for(var g=0;g<a.pagingCount;g++){if(i=a.slides.eq(g),void 0===i.attr("data-thumb-alt")&&i.attr("data-thumb-alt",""),altText=""!==i.attr("data-thumb-alt")?altText=' alt="'+i.attr("data-thumb-alt")+
'"':"",c="thumbnails"===a.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+b+"</a>","thumbnails"===a.vars.controlNav&&!0===a.vars.thumbCaptions){var k=i.attr("data-thumbcaption");""!==k&&void 0!==k&&(c+='<span class="'+e+'caption">'+k+"</span>")}a.controlNavScaffold.append("<li>"+c+"</li>");b++}a.controlsContainer?d(a.controlsContainer).append(a.controlNavScaffold):a.append(a.controlNavScaffold);f.controlNav.set();f.controlNav.active();a.controlNavScaffold.delegate("a, img",
"click touchend MSPointerUp keyup",function(b){if(b.preventDefault(),""===h||h===b.type){var c=d(this),i=a.controlNav.index(c);c.hasClass(e+"active")||(a.direction=i>a.currentSlide?"next":"prev",a.flexAnimate(i,a.vars.pauseOnAction))}""===h&&(h=b.type);f.setToClearWatchedEvent()})},setupManual:function(){a.controlNav=a.manualControls;f.controlNav.active();a.controlNav.bind("click touchend MSPointerUp keyup",function(b){if(b.preventDefault(),""===h||h===b.type){var c=d(this),i=a.controlNav.index(c);
c.hasClass(e+"active")||(i>a.currentSlide?a.direction="next":a.direction="prev",a.flexAnimate(i,a.vars.pauseOnAction))}""===h&&(h=b.type);f.setToClearWatchedEvent()})},set:function(){a.controlNav=d("."+e+"control-nav li "+("thumbnails"===a.vars.controlNav?"img":"a"),a.controlsContainer?a.controlsContainer:a)},active:function(){a.controlNav.removeClass(e+"active").eq(a.animatingTo).addClass(e+"active")},update:function(b,c){1<a.pagingCount&&"add"===b?a.controlNavScaffold.append(d('<li><a href="#">'+
a.count+"</a></li>")):1===a.pagingCount?a.controlNavScaffold.find("li").remove():a.controlNav.eq(c).closest("li").remove();f.controlNav.set();1<a.pagingCount&&a.pagingCount!==a.controlNav.length?a.update(c,b):f.controlNav.active()}},directionNav:{setup:function(){var b=d('<ul class="'+e+'direction-nav"><li class="'+e+'nav-prev"><a class="'+e+'prev" href="#">'+a.vars.prevText+'</a></li><li class="'+e+'nav-next"><a class="'+e+'next" href="#">'+a.vars.nextText+"</a></li></ul>");a.customDirectionNav?
a.directionNav=a.customDirectionNav:a.controlsContainer?(d(a.controlsContainer).append(b),a.directionNav=d("."+e+"direction-nav li a",a.controlsContainer)):(a.append(b),a.directionNav=d("."+e+"direction-nav li a",a));f.directionNav.update();a.directionNav.bind("click touchend MSPointerUp keyup",function(b){b.preventDefault();var i;(""===h||h===b.type)&&(i=d(this).hasClass(e+"next")?a.getTarget("next"):a.getTarget("prev"),a.flexAnimate(i,a.vars.pauseOnAction));""===h&&(h=b.type);f.setToClearWatchedEvent()})},
update:function(){var b=e+"disabled";1===a.pagingCount?a.directionNav.addClass(b).attr("tabindex","-1"):a.vars.animationLoop?a.directionNav.removeClass(b).removeAttr("tabindex"):0===a.animatingTo?a.directionNav.removeClass(b).filter("."+e+"prev").addClass(b).attr("tabindex","-1"):a.animatingTo===a.last?a.directionNav.removeClass(b).filter("."+e+"next").addClass(b).attr("tabindex","-1"):a.directionNav.removeClass(b).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=d('<div class="'+e+'pauseplay"><a href="#"></a></div>');
a.controlsContainer?(a.controlsContainer.append(b),a.pausePlay=d("."+e+"pauseplay a",a.controlsContainer)):(a.append(b),a.pausePlay=d("."+e+"pauseplay a",a));f.pausePlay.update(a.vars.slideshow?e+"pause":e+"play");a.pausePlay.bind("click touchend MSPointerUp keyup",function(b){b.preventDefault();(""===h||h===b.type)&&(d(this).hasClass(e+"pause")?(a.manualPause=!0,a.manualPlay=!1,a.pause()):(a.manualPause=!1,a.manualPlay=!0,a.play()));""===h&&(h=b.type);f.setToClearWatchedEvent()})},update:function(b){"play"===
b?a.pausePlay.removeClass(e+"pause").addClass(e+"play").html(a.vars.playText):a.pausePlay.removeClass(e+"play").addClass(e+"pause").html(a.vars.pauseText)}},touch:function(){function b(b){b.stopPropagation();a.animating?b.preventDefault():(a.pause(),g._gesture.addPointer(b.pointerId),r=0,p=n?a.h:a.w,j=Number(new Date),h=k&&m&&a.animatingTo===a.last?0:k&&m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:k&&a.currentSlide===a.last?a.limit:k?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:
m?(a.last-a.currentSlide+a.cloneOffset)*p:(a.currentSlide+a.cloneOffset)*p)}function c(a){a.stopPropagation();var b=a.target._slider;if(b){var c=-a.translationX,d=-a.translationY;return r+=n?d:c,l=r,u=n?Math.abs(r)<Math.abs(-c):Math.abs(r)<Math.abs(-d),a.detail===a.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){g._gesture.stop()}):void((!u||500<Number(new Date)-j)&&(a.preventDefault(),!o&&b.transitions&&(b.vars.animationLoop||(l=r/(0===b.currentSlide&&0>r||b.currentSlide===b.last&&0<r?Math.abs(r)/
p+2:1)),b.setProps(h+l,"setTouch"))))}}function d(a){a.stopPropagation();if(a=a.target._slider){if(a.animatingTo===a.currentSlide&&!u&&null!==l){var b=m?-l:l,c=0<b?a.getTarget("next"):a.getTarget("prev");a.canAdvance(c)&&(550>Number(new Date)-j&&50<Math.abs(b)||Math.abs(b)>p/2)?a.flexAnimate(c,a.vars.pauseOnAction):o||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}h=l=f=e=null;r=0}}var e,f,h,p,l,j,s,q,t,u=!1,v=0,w=0,r=0;x?(g.style.msTouchAction="none",g._gesture=new MSGesture,g._gesture.target=
g,g.addEventListener("MSPointerDown",b,!1),g._slider=a,g.addEventListener("MSGestureChange",c,!1),g.addEventListener("MSGestureEnd",d,!1)):(s=function(b){a.animating?b.preventDefault():(window.navigator.msPointerEnabled||1===b.touches.length)&&(a.pause(),p=n?a.h:a.w,j=Number(new Date),v=b.touches[0].pageX,w=b.touches[0].pageY,h=k&&m&&a.animatingTo===a.last?0:k&&m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:k&&a.currentSlide===a.last?a.limit:k?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:
m?(a.last-a.currentSlide+a.cloneOffset)*p:(a.currentSlide+a.cloneOffset)*p,e=n?w:v,f=n?v:w,g.addEventListener("touchmove",q,!1),g.addEventListener("touchend",t,!1))},q=function(b){v=b.touches[0].pageX;w=b.touches[0].pageY;l=n?e-w:e-v;u=n?Math.abs(l)<Math.abs(v-f):Math.abs(l)<Math.abs(w-f);(!u||500<Number(new Date)-j)&&(b.preventDefault(),!o&&a.transitions&&(a.vars.animationLoop||(l/=0===a.currentSlide&&0>l||a.currentSlide===a.last&&0<l?Math.abs(l)/p+2:1),a.setProps(h+l,"setTouch")))},t=function(){if(g.removeEventListener("touchmove",
q,!1),a.animatingTo===a.currentSlide&&!u&&null!==l){var b=m?-l:l,c=0<b?a.getTarget("next"):a.getTarget("prev");a.canAdvance(c)&&(550>Number(new Date)-j&&50<Math.abs(b)||Math.abs(b)>p/2)?a.flexAnimate(c,a.vars.pauseOnAction):o||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}g.removeEventListener("touchend",t,!1);h=l=f=e=null},g.addEventListener("touchstart",s,!1))},resize:function(){!a.animating&&a.is(":visible")&&(k||a.doMath(),o?f.smoothHeight():k?(a.slides.width(a.computedW),a.update(a.pagingCount),
a.setProps()):n?(a.viewport.height(a.h),a.setProps(a.h,"setTotal")):(a.vars.smoothHeight&&f.smoothHeight(),a.newSlides.width(a.computedW),a.setProps(a.computedW,"setTotal")))},smoothHeight:function(b){if(!n||o){var c=o?a:a.viewport;b?c.animate({height:a.slides.eq(a.animatingTo).height()},b):c.height(a.slides.eq(a.animatingTo).height())}},sync:function(b){var c=d(a.vars.sync).data("flexslider"),e=a.animatingTo;switch(b){case "animate":c.flexAnimate(e,a.vars.pauseOnAction,!1,!0);break;case "play":c.playing||
c.asNav||c.play();break;case "pause":c.pause()}},uniqueID:function(a){return a.filter("[id]").add(a.find("[id]")).each(function(){var a=d(this);a.attr("id",a.attr("id")+"_clone")}),a},pauseInvisible:{visProp:null,init:function(){var b=f.pauseInvisible.getHiddenProp();b&&(b=b.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(b,function(){f.pauseInvisible.isHidden()?a.startTimeout?clearTimeout(a.startTimeout):a.pause():a.started?a.play():0<a.vars.initDelay?setTimeout(a.play,a.vars.initDelay):
a.play()}))},isHidden:function(){var a=f.pauseInvisible.getHiddenProp();return a?document[a]:!1},getHiddenProp:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var c=0;c<a.length;c++)if(a[c]+"Hidden"in document)return a[c]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(y);y=setTimeout(function(){h=""},3E3)}};a.flexAnimate=function(b,c,i,g,h){if(a.vars.animationLoop||b===a.currentSlide||(a.direction=b>a.currentSlide?"next":"prev"),s&&1===a.pagingCount&&
(a.direction=a.currentItem<b?"next":"prev"),!a.animating&&(a.canAdvance(b,h)||i)&&a.is(":visible")){if(s&&g){i=d(a.vars.asNavFor).data("flexslider");if(a.atEnd=0===b||b===a.count-1,i.flexAnimate(b,!0,!1,!0,h),a.direction=a.currentItem<b?"next":"prev",i.direction=a.direction,Math.ceil((b+1)/a.visible)-1===a.currentSlide||0===b)return a.currentItem=b,a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),!1;a.currentItem=b;a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide");
b=Math.floor(b/a.visible)}if(a.animating=!0,a.animatingTo=b,c&&a.pause(),a.vars.before(a),a.syncExists&&!h&&f.sync("animate"),a.vars.controlNav&&f.controlNav.active(),k||a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),a.atEnd=0===b||b===a.last,a.vars.directionNav&&f.directionNav.update(),b===a.last&&(a.vars.end(a),a.vars.animationLoop||a.pause()),o)t?(a.slides.eq(a.currentSlide).css({opacity:0,zIndex:1}),a.slides.eq(b).css({opacity:1,zIndex:2}),a.wrapup(j)):(a.slides.eq(a.currentSlide).css({zIndex:1}).animate({opacity:0},
a.vars.animationSpeed,a.vars.easing),a.slides.eq(b).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing,a.wrapup));else{var j=n?a.slides.filter(":first").height():a.computedW,p,l,q;k?(p=a.vars.itemMargin,q=(a.itemW+p)*a.move*a.animatingTo,l=q>a.limit&&1!==a.visible?a.limit:q):l=0===a.currentSlide&&b===a.count-1&&a.vars.animationLoop&&"next"!==a.direction?m?(a.count+a.cloneOffset)*j:0:a.currentSlide===a.last&&0===b&&a.vars.animationLoop&&"prev"!==a.direction?m?0:(a.count+1)*j:m?
(a.count-1-b+a.cloneOffset)*j:(b+a.cloneOffset)*j;a.setProps(l,"",a.vars.animationSpeed);a.transitions?(a.vars.animationLoop&&a.atEnd||(a.animating=!1,a.currentSlide=a.animatingTo),a.container.unbind("webkitTransitionEnd transitionend"),a.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(a.ensureAnimationEnd);a.wrapup(j)}),clearTimeout(a.ensureAnimationEnd),a.ensureAnimationEnd=setTimeout(function(){a.wrapup(j)},a.vars.animationSpeed+100)):a.container.animate(a.args,a.vars.animationSpeed,
a.vars.easing,function(){a.wrapup(j)})}a.vars.smoothHeight&&f.smoothHeight(a.vars.animationSpeed)}};a.wrapup=function(b){o||k||(0===a.currentSlide&&a.animatingTo===a.last&&a.vars.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&0===a.animatingTo&&a.vars.animationLoop&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;a.vars.after(a)};a.animateSlides=function(){!a.animating&&q&&a.flexAnimate(a.getTarget("next"))};a.pause=function(){clearInterval(a.animatedSlides);
a.animatedSlides=null;a.playing=!1;a.vars.pausePlay&&f.pausePlay.update("play");a.syncExists&&f.sync("pause")};a.play=function(){a.playing&&clearInterval(a.animatedSlides);a.animatedSlides=a.animatedSlides||setInterval(a.animateSlides,a.vars.slideshowSpeed);a.started=a.playing=!0;a.vars.pausePlay&&f.pausePlay.update("pause");a.syncExists&&f.sync("play")};a.stop=function(){a.pause();a.stopped=!0};a.canAdvance=function(b,c){var d=s?a.pagingCount-1:a.last;return c?!0:s&&a.currentItem===a.count-1&&0===
b&&"prev"===a.direction?!0:s&&0===a.currentItem&&b===a.pagingCount-1&&"next"!==a.direction?!1:b!==a.currentSlide||s?a.vars.animationLoop?!0:a.atEnd&&0===a.currentSlide&&b===d&&"next"!==a.direction?!1:a.atEnd&&a.currentSlide===d&&0===b&&"next"===a.direction?!1:!0:!1};a.getTarget=function(b){return a.direction=b,"next"===b?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1};a.setProps=function(b,c,d){var e,f=b?b:(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo;e=-1*
function(){if(k)return"setTouch"===c?b:m&&a.animatingTo===a.last?0:m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:a.animatingTo===a.last?a.limit:f;switch(c){case "setTotal":return m?(a.count-1-a.currentSlide+a.cloneOffset)*b:(a.currentSlide+a.cloneOffset)*b;case "setTouch":return b;case "jumpEnd":return m?b:a.count*b;case "jumpStart":return m?a.count*b:b;default:return b}}()+"px";a.transitions&&(e=n?"translate3d(0,"+e+",0)":"translate3d("+e+",0,0)",d=void 0!==d?d/1E3+"s":"0s",a.container.css("-"+
a.pfx+"-transition-duration",d),a.container.css("transition-duration",d));a.args[a.prop]=e;(a.transitions||void 0===d)&&a.container.css(a.args);a.container.css("transform",e)};a.setup=function(b){if(o)a.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(t?a.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+a.vars.animationSpeed/1E3+"s ease",zIndex:1}).eq(a.currentSlide).css({opacity:1,zIndex:2}):0==a.vars.fadeFirstSlide?a.slides.css({opacity:0,
display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).css({opacity:1}):a.slides.css({opacity:0,display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing)),a.vars.smoothHeight&&f.smoothHeight();else{var c,i;"init"===b&&(a.viewport=d('<div class="'+e+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(a).append(a.container),a.cloneCount=0,a.cloneOffset=0,m&&(i=d.makeArray(a.slides).reverse(),a.slides=d(i),a.container.empty().append(a.slides)));
a.vars.animationLoop&&!k&&(a.cloneCount=2,a.cloneOffset=1,"init"!==b&&a.container.find(".clone").remove(),a.container.append(f.uniqueID(a.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(a.slides.last().clone().addClass("clone")).attr("aria-hidden","true")));a.newSlides=d(a.vars.selector,a);c=m?a.count-1-a.currentSlide+a.cloneOffset:a.currentSlide+a.cloneOffset;n&&!k?(a.container.height(200*(a.count+a.cloneCount)+"%").css("position","absolute").width("100%"),
setTimeout(function(){a.newSlides.css({display:"block"});a.doMath();a.viewport.height(a.h);a.setProps(c*a.h,"init")},"init"===b?100:0)):(a.container.width(200*(a.count+a.cloneCount)+"%"),a.setProps(c*a.computedW,"init"),setTimeout(function(){a.doMath();a.newSlides.css({width:a.computedW,marginRight:a.computedM,"float":"left",display:"block"});a.vars.smoothHeight&&f.smoothHeight()},"init"===b?100:0))}k||a.slides.removeClass(e+"active-slide").eq(a.currentSlide).addClass(e+"active-slide");a.vars.init(a)};
a.doMath=function(){var b=a.slides.first(),c=a.vars.itemMargin,d=a.vars.minItems,e=a.vars.maxItems;a.w=void 0===a.viewport?a.width():a.viewport.width();a.h=b.height();a.boxPadding=b.outerWidth()-b.width();k?(a.itemT=a.vars.itemWidth+c,a.itemM=c,a.minW=d?d*a.itemT:a.w,a.maxW=e?e*a.itemT-c:a.w,a.itemW=a.minW>a.w?(a.w-c*(d-1))/d:a.maxW<a.w?(a.w-c*(e-1))/e:a.vars.itemWidth>a.w?a.w:a.vars.itemWidth,a.visible=Math.floor(a.w/a.itemW),a.move=0<a.vars.move&&a.vars.move<a.visible?a.vars.move:a.visible,a.pagingCount=
Math.ceil((a.count-a.visible)/a.move+1),a.last=a.pagingCount-1,a.limit=1===a.pagingCount?0:a.vars.itemWidth>a.w?a.itemW*(a.count-1)+c*(a.count-1):(a.itemW+c)*a.count-a.w-c):(a.itemW=a.w,a.itemM=c,a.pagingCount=a.count,a.last=a.count-1);a.computedW=a.itemW-a.boxPadding;a.computedM=a.itemM};a.update=function(b,c){a.doMath();k||(b<a.currentSlide?a.currentSlide+=1:b<=a.currentSlide&&0!==b&&(a.currentSlide-=1),a.animatingTo=a.currentSlide);a.vars.controlNav&&!a.manualControls&&("add"===c&&!k||a.pagingCount>
a.controlNav.length?f.controlNav.update("add"):("remove"===c&&!k||a.pagingCount<a.controlNav.length)&&(k&&a.currentSlide>a.last&&(a.currentSlide-=1,a.animatingTo-=1),f.controlNav.update("remove",a.last)));a.vars.directionNav&&f.directionNav.update()};a.addSlide=function(b,c){var e=d(b);a.count+=1;a.last=a.count-1;n&&m?void 0!==c?a.slides.eq(a.count-c).after(e):a.container.prepend(e):void 0!==c?a.slides.eq(c).before(e):a.container.append(e);a.update(c,"add");a.slides=d(a.vars.selector+":not(.clone)",
a);a.setup();a.vars.added(a)};a.removeSlide=function(b){var c=isNaN(b)?a.slides.index(d(b)):b;a.count-=1;a.last=a.count-1;isNaN(b)?d(b,a.slides).remove():n&&m?a.slides.eq(a.last).remove():a.slides.eq(b).remove();a.doMath();a.update(c,"remove");a.slides=d(a.vars.selector+":not(.clone)",a);a.setup();a.vars.removed(a)};f.init()};d(window).blur(function(){q=!1}).focus(function(){q=!0});d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",
reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,
minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};d.fn.flexslider=function(g){if(void 0===g&&(g={}),"object"==typeof g)return this.each(function(){var a=d(this),e=a.find(g.selector?g.selector:".slides > li");1===e.length&&!0===g.allowOneSlide||0===e.length?(e.fadeIn(400),g.start&&g.start(a)):void 0===a.data("flexslider")&&new d.flexslider(this,g)});var j=d(this).data("flexslider");
switch(g){case "play":j.play();break;case "pause":j.pause();break;case "stop":j.stop();break;case "next":j.flexAnimate(j.getTarget("next"),!0);break;case "prev":case "previous":j.flexAnimate(j.getTarget("prev"),!0);break;default:"number"==typeof g&&j.flexAnimate(g,!0)}}}(jQuery);$rmod.main("/src/modules/vi-components/app-related-products-loader","index");$rmod.def("/src/modules/vi-components/app-related-products-loader/template.marko",function(a,m,d,e){(d.exports=a("/$/marko").c(e)).c(function(c){function f(){"undefined"!=typeof window&&g.registerWidget(h,a("./"))}var g=a("/$/marko-widgets"),d=g.attrs;a("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var h="/src/modules/vi-components/app-related-products-loader",e=c.r,i=e(a("/$/marko-widgets/taglib/widget-tag")),j=c.t,k=c.a,l=c.as;return function(b,a){f&&(f(),f=null);j(a,i,{config:{url:b.model.url,
isSmall:b.appmeta.deviceInfo.isSmall},module:h,_cfg:b.widgetConfig,_state:b.widgetState,_props:b.widgetProps,_body:b.widgetBody},function(a,b){a.w("<div"+k("id",b.elId())+l(d(b))+"></div>")})}})});$rmod.def("/src/modules/vi-components/app-related-products-loader/index",function(c,l,i){i.exports=c("/$/marko-widgets").defineComponent({template:c.resolve("./template.marko"),getInitialState:function(d){return{model:d.model,appmeta:d.appmeta}},init:function(d){var g=this;$(window).load(function(){$.ajax({url:d.url,error:function(){},success:function(b){$(g.el).html(b);var a=$(".related-products",$(g.el));if(b=$(".slides li",a).first()){var b=b.width(),e=a.data("wconfig"),h=e.pageChangeTrackingId;
if(d.isSmall){var j=e.properties;$(".related-product-list",a).flexslider({animation:"slide",itemWidth:b,animationLoop:!1,slideshow:!1,directionNav:!1,maxItems:2,minItems:2,after:function(f){var b=2*f.currentSlide;$(".leftval .val",a).each(function(a,f){f.innerHTML=j[b][a]});$(".rightval .val",a).each(function(a,f){f.innerHTML=b+1<j.length?j[b+1][a]:""});h&&$(document).trigger("rover",{sid:h})}})}else{var c=$(".current-product",g.el),i=c.parent(),k=function(a){a=a.getBoundingClientRect();return a.width?
a.width:a.right-a.left},e=function(){var a=k(i[0]),b=k(c[0]);$(".related-product-list",g.el).width(a-b)};$(window).resize(e);e();$(".related-product-list",a).flexslider({animation:"slide",itemWidth:b,animationLoop:!1,slideshow:!1,minItems:2,maxItems:4,controlsContainer:$(".custom-controls-container",a),customDirectionNav:$(".custom-navigation button",a),end:function(){$(".flex-next",a).prop("disabled",!0)},start:function(){$(".flex-prev",a).prop("disabled",!0)},after:function(b){$(".flex-next",a).prop("disabled",
b.currentSlide<b.pagingCount-1?!1:!0);$(".flex-prev",a).prop("disabled",0!=b.currentSlide?!1:!0);h&&$(document).trigger("rover",{sid:h})}});$(".flex-control-paging li",a).length||$(".custom-navigation",a).remove()}}}})})}})});(function(a){var f=a.fluidmixins||a.extend({fluidmixins:{}})&&a.fluidmixins,c=navigator.userAgent.toLowerCase(),d=/(?=.*?(Android))(?=.*?(Chrome)).*/.test(navigator.userAgent),b=/(?=.*?(Kindle Fire)).*/.test(navigator.userAgent)||/(?=.*?(Silk)).*/.test(navigator.userAgent),g=/(?=.*?(Nook)).*/.test(navigator.userAgent)||/(BNTV).*/.test(navigator.userAgent),c=/android/.test(c)||b,b="ontouchstart"in document.documentElement,e="-webkit-overflow-scrolling"in document.body.style?!0:d?!0:!1;a.extend(f,{isTouch:b,
hasWebKitTouch:e,requiresIScroll:b&&(!e||c&&(g||!d)),hasOrientationChange:"onorientationchange"in window?!0:!1})})(jQuery);(function(d){function f(a,b){this.settings={};this.$el=d(a);this.handlers={};document.addEventListener&&this._bindEvents(1,b)}var i=["touchstart","touchmove","touchend","touchcancel"],j={touchstart:function(a){var b=this.settings,a=a.changedTouches[0];b.dY=0;b.dX=0;b.scroll=0;b.dir=0;b.userDragging=!1;b.sX=Math.abs(a.screenX);b.sY=Math.abs(a.screenY);b.sT=(new Date).getTime();b.id=a.identifier},touchmove:function(a){var b=this.$el,c=this.settings,e=a.changedTouches[0];if(!c.scroll)if(c.dir=c.dX>=
e.screenX-c.sX?-1:1,c.dX=e.screenX-c.sX,c.dY=e.screenY-c.sY,!c.userDragging&&0.5<Math.abs(c.dY/c.dX))c.scroll=1;else if(c.userDragging||c.listenDrag&&(10<Math.abs(c.dY)||10<=Math.abs(c.dX)))a.gesture=this._extendGestureObj(c),a.preventDefault(),c.userDragging?(a.gesture.type="drag",b.trigger("tact:drag",a)):(c.sX=e.screenX,c.sY=e.screenY,a.gesture=this._extendGestureObj(c),a.gesture.type="dragstart",b.trigger("tact:dragstart",a),c.userDragging=!0)},touchend:function(a){var b=this.$el,c=this.settings,
e=a.changedTouches[0],h=(new Date).getTime(),g=Math.abs(e.screenX),d=Math.abs(e.screenY),e=!1,f;f=h-c.sT;d=Math.floor(Math.sqrt((g-c.sX)*(g-c.sX)+(d-c.sY)*(d-c.sY)));a.gesture=this._extendGestureObj(c);a.gesture.end=h;a.gesture.duration=f;0.5<Math.abs(c.sX-g)/Math.abs(c.sT-h)&&(a.gesture.velocity=Math.abs(c.sX-g)/Math.abs(c.sT-h),a.gesture.type="swipe",e=!0,b.trigger("tact:swipe",a));c.userDragging&&(c.userDragging=!1,a.gesture.type="dragend",a.gesture.swipe=e,b.trigger("tact:dragend",a));150>f&&
10>d&&(delete a.gesture.dir,delete a.gesture.delta,a.gesture.type="tap",b.trigger("tact:tap",a))},touchcancel:function(a){this.handlers.touchend(a)}},k=function(a,b,c){var e=b.$el.data("__TACTILE_LISTENER_BOUND");1===a&&(void 0===e||!1===e)?(a=function(a){j[c].call(b,a)},b.handlers[c]=a):a=b.handlers[c];return a},l=function(a,b,c){return function(e,d){c.settings.enabled&&b[a].call(c.$el[0],d)}};f.prototype._bindEvents=function(a,b){var c=1===a?"add":"remove",e=this.$el.get(0),d,g,f;g=0;for(f=i.length;g<
f;g++)e[c+"EventListener"](i[g],k(a,this,i[g]));this.$el.data("__TACTILE_LISTENER_BOUND",!!a);if("add"===c&&b)for(d in this.settings.enabled=1,b)if(b.hasOwnProperty(d)){if("function"===typeof b[d])this.$el.on("tact:"+d+".tact",l(d,b,this));-1<d.indexOf("drag")&&(this.settings.listenDrag=!0)}};f.prototype._extendGestureObj=function(a){var b={};b.dir=a.dir;b.id=a.id;b.start=a.sT;b.delta={};b.delta.x=a.dX;b.delta.y=a.dY;return b};d.fn.extend({tact:function(a){return"string"===typeof a||a instanceof String?
"enable"===a?this.each(function(){var a=d(this).data("__TACTILE");a&&a.settings&&(a.settings.enabled=1)}):"disable"===a?this.each(function(){var a=d(this).data("__TACTILE");a&&a.settings&&(a.settings.enabled=0)}):"destroy"===a?this.each(function(){var a=d(this).data("__TACTILE");a&&(a._bindEvents(0),d(this).off(".tact"),d(this).removeData("__TACTILE"))}):this:this.each(function(){var b=d(this);void 0===b.data("__TACTILE")?b.data("__TACTILE",new f(this,a)):(b=b.data("__TACTILE"),b._bindEvents(1,a))})}})})(jQuery);(function(h){function j(a){a=h(a);a.attr("style","");var b=a.width(),c=a.height(),g=b/c,f=9/17,k=17/9,d=a.parent(),e=d.height(),d=d.width(),i=d/e;g>i?g>=k?b<d?a.css({top:(e-c)/2,left:(d-b)/2}):(c=parseInt(e/g,10),a.css({width:d,height:c,top:(e-c)/2})):b<d&&b<0.75*d?a.css({height:c,width:b,top:(e-c)/2,left:(d-b)/2}):(a.css({height:e,width:"auto"}),b=a.width(),a.css({left:(d-b)/2})):g<i?g<=f?c<e?(b=a.width(),a.css({top:(e-c)/2}),d>b&&a.css({left:(d-b)/2})):(b=parseInt(d*g,10),a.css({height:e,width:b,
left:(d-b)/2})):c<e&&c<0.75*e?a.css({height:c,width:b,top:(e-c)/2,left:(d-b)/2}):(c=parseInt(e/g,10),a.css({width:d,height:c,top:(e-c)/2})):0<b&&(b<d?a.css({top:(e-c)/2,left:(d-b)/2}):a.css({width:d,height:e}));a.css({position:"absolute"});a.show()}h.fn.imagefit=function(a,b,c){var g=h(this),f=c?c:a?"data-"+a:"imgurl";("IMG"===g.prop("tagName")?g:g.find("img")).each(function(){var a=h(this),d=a.attr(f),c="undefined"===typeof a.attr("image_load");a.data("fit")&&c&&(b?(d&&a.hide(),j(this)):(a.on("load",
function(){"undefined"===typeof h(this).attr("image_load")&&j(this)}).on("error",function(){h(this).show()}),d&&a.hide()));!b&&c&&(a.attr("src",a.attr(f)),a.removeAttr(f))})};var f=window.image_load;if("undefined"!==typeof f&&f.deferred){for(var f=f.deferred,i=0,l=f.length;i<l;i++)h(f[i]).imagefit(null,!0);window.image_load=function(a){h(a).imagefit(null,!0)}}})(jQuery);(function(g){function h(a){var b=this,c=a||{};this.$el=a.$el;this.$ul=a.$ul;this.isTransitioning=!1;this.transitionStartTime=0;this.dataItemIdAttr=c.dataAttr||"item-id";this.props=void 0;this.mobiUX=!1;c.isMobiUX&&(g.fluidmixins.isTouch&&g.fluidmixins.hasWebKitTouch?this.mobiUX=!0:this.$el.removeClass("fluid-filmstrip-mobiux"));this.mobiUX||(this.selectorPrev=c.selectorPrev||"button:first-child",this.selectorNext=c.selectorNext||"button:last-child",this.$el.on("click",this.selectorPrev,function(a){a.data=
1;b._clickHandler.call(b,a)}).on("click",this.selectorNext,function(a){a.data=-1;b._clickHandler.call(b,a)}),this.$el.tact({dragstart:function(a){b._dragHandler.call(b,a)},drag:function(a){b._dragHandler.call(b,a)},dragend:function(a){b._dragHandler.call(b,a)},swipe:function(a){b._swipeHandler.call(b,a)}}),this._supportsTransitions&&("function"===typeof this._translate&&(this._translate=this._translate()),this.$ul.css("transition",this._translate+" 0.4s ease-out").css(this._translate,"translate3d(0%, 0, 0)").on("webkitTransitionEnd oTransitionEnd otransitionend transitionend",
function(){b._setTransitionEnd.call(b)})),g(document).on(i,function(){void 0===b._resizeFunc?b._resizeTime=(new Date).getTime():200>(new Date).getTime()-b._resizeTime&&(clearTimeout(b._resizeFunc),b._resizeTime=(new Date).getTime());b._resizeFunc=setTimeout(function(){var a=b._getProps();b.props.total!==a.total&&(b.props.resized=!0,b._setButtons());b._resizeFunc=void 0},200)}));this.$el.on("click","ul > li",function(){b._eventPublisher(m,{type:"click",id:g(this).data(b.dataItemIdAttr)})});this._setButtons();
return this}var i="__FS_RESIZE",m="fluid-fs:click",j=!1;if("function"!==typeof g.fn.tact)throw Error("Tactile.js depedency is missing.");h.prototype._clickHandler=function(a,b,c){var d=this,e=this.$ul,f=this.props,g=this.isTransitioning,h=this._supportsTransitions,b=b||400,i=f.current,j=a.data-i,l=c||100*j+"%",k={};0===i&&1===a.data||(i===f.total&&-1===a.data||!0===g)||(this.isTransitioning=!0,this.transitionStartTime=(new Date).getTime(),h?(k=this.getTransObj(b/1E3),k[this._translate]="translate3d("+
l+",0,0)",e.css(k)):e.stop(!0,!0).animate({left:l},b,function(){d.isTransitioning=!1;f.offset=e.position().left}),void 0===c&&(f.current=Math.abs(j),this._setButtons(),this._eventPublisher("fluid-fs:navigate",{type:"navigate",dir:a.data,current:f.current})))};h.prototype._eventPublisher=function(a,b){this.$el.trigger(a,b)};h.prototype._dragHandler=function(a){var b=this.$ul,c=this.props,d=a.gesture.dir,e=c.offset+a.gesture.delta.x+"px",f=c.current;if(!this.isTransitioning)if("dragstart"===a.gesture.type)b.css(this.getTransObj(0));
else{if(0===f&&0<a.gesture.delta.x||f===c.total&&-1===d)e=c.offset+a.gesture.delta.x/4+"px";if("dragend"===a.gesture.type)if(0===f&&0<a.gesture.delta.x||f===c.total&&-1===d)b.css(this.getTransObj(0.4)),e=-(100*f)+"%";else if(!1===a.gesture.swipe)if(0.1>a.gesture.delta.x/this.props.width)b.css(this.getTransObj(0.4)),e=-(100*f)+"%";else{a.gesture.velocity=0.5;this._swipeHandler.call(this,a);return}b.css(this._translate,"translate3d("+e+",0,0)")}};h.prototype._swipeHandler=function(a){if(this.isTransitioning)if(this.transitionStartTime+
1E3<=(new Date).getTime())this.isTransitioning=!1;else return;var b={};b.delegateTarget=this.$el;b.data=a.gesture.dir;this._clickHandler.call(this,b,400/a.gesture.velocity)};h.prototype._getProps=function(){var a=this.$ul,b=a.find("li:first-child").width(),c=a.children("li").length,a=a.width(),d={},e=this.props&&this.props.current?this.props.current:0,f=this.props&&this.props.offset?this.props.offset:0;d.width=a;d.current=e;d.offset=f;d.total=Math.ceil(b*c/a)-1;return d};h.prototype._setButtons=function(){var a=
this.$el,b,c=this.selectorPrev,d=this.selectorNext,e=!1;void 0===this.props||(e=!0===this.props.resized)?(this.props=b=this._getProps(),!0===e&&b.current>b.total&&(this.props.current=b.total,this._clickHandler({data:1},400,-100*b.total+"%"))):b=this.props;!1===this.mobiUX&&(a.find(c+","+d).attr("aria-disabled",!1),0===b.total?a.find(c+","+d).attr("aria-disabled",!0).css("visibility","hidden"):0===b.current?a.find(c).attr("aria-disabled",!0):b.current===b.total&&a.find(d).attr("aria-disabled",!0))};
h.prototype._translate=function(){var a=(document.body||document.documentElement).style,b=["Webkit","Moz","O","ms"],c;if("string"===typeof a.transform)return"transform";for(c=0;c<b.length;c++)if("string"===typeof a[b[c]+"Transform"])return"-"+b[c].toLowerCase()+"-transform";return"left"};h.prototype.getTransObj=function(a){return{"transition-duration":a+"s","-webkit-transition-duration":a+"s","-moz-transition-duration":a+"s","-o-transition-duration":a+"s"}};h.prototype._supportsTransitions=function(){var a=
(document.body||document.documentElement).style,b="webkit Webkit Moz Khtml O ms".split(" "),c;c=navigator.userAgent;if(!0===(-1<c.indexOf("Mozilla/5.0")&&(-1<c.indexOf("Android ")&&-1<c.indexOf("AppleWebKit"))&&!1===-1<c.indexOf("Chrome")))return!1;if("string"===typeof a.transition)return!0;for(c=0;c<b.length;c++)if("string"===typeof a[b[c]+"Transition"])return!0;return!1}();h.prototype._setTransitionEnd=function(){this.props.offset=this.$ul.position().left;this.isTransitioning=!1};g.fn.filmstrip=
function(a){var a=a||{},b=a.selectorPrev||"button:first-child",c=a.selectorNext||"button:last-child",d=a.dataAttr||"item-id",e=a.mobiUX||!1;if(!1===j){if(!0==="onorientationchange"in window)g(window).on("orientationchange",function(){g(document).trigger(i)});else g(window).on("resize",function(){g(document).trigger(i)});j=!0}return this.each(function(){var a=g(this),i=a.find("ul:first-child");void 0===a.data("__FS__INSTANCE")&&a.data("__FS__INSTANCE",new h({$el:a,$ul:i,selectorPrev:b,selectorNext:c,
dataAttr:d,isMobiUX:e}))})}})(jQuery);$rmod.dep("","vi-component-action","1.0.0");$rmod.def("/src/modules/vi-components/app-guides/template.marko",function(a,s,f,g){(f.exports=a("/$/marko").c(g)).c(function(b){function h(){"undefined"!=typeof window&&l.registerWidget(m,a("./index"))}var f=b.ne,l=a("/$/marko-widgets"),g=l.attrs;a("/$/marko-widgets/taglib/helpers/getDynamicClientWidgetPath-browser");var m="/src/modules/vi-components/app-guides/index",n=a("/$/vi-template-helper"),d=b.a,i=b.r,j=i(a("/$/vi-component-textspans")),e=b.t,o=i(a("/$/marko-widgets/taglib/widget-tag")),p=
b.xa,q=b.as,r=b.fv,k=i(a("/$/vi-component-action"));return function(c,a){h&&(h(),h=null);var b=a.global;componentTrackingId=n.getReferredTrackingId(c.model.meta?c.model.meta.trackingList:null);f(c.model.guideRecords)&&(a.w('<div id="GuidesPanel"'+d("_sp",componentTrackingId?componentTrackingId:"")+d("data-scrolltracking",n.getScrollTrackingId(c.model.meta?c.model.meta.trackingList:null,!0))+'><div class="guides"><h2 class="guides__title">'),e(a,j,{model:c.model.title.textSpans}),a.w("</h2>"),e(a,
o,{config:{isTouch:c.isTouch,isOutOfStock:b&&b.isOutOfStock},module:m,_cfg:c.widgetConfig,_state:c.widgetState,_props:c.widgetProps,_body:c.widgetBody},function(a,b){a.w('<div class="filmstrip-x filmstrip-centered '+p(c.isTouch?"fluid-filmstrip-mobiux":"")+'"'+d("id",b.elId())+q(g(b))+'><button><b class="g-hdn">View previous</b></button><div class="guides__section clearfix"><ul>');r(c.model.guideRecords,function(b){a.w('<li><div class="guide">');c.options.lazyImageFeed?(a.w('<div class="guide--image image-feed">'),
e(a,k,{model:b.action,viewOptions:{"class":"image-link"}},function(a){a.w('<img src="//ir.ebaystatic.com/pictures/skin/gif/spinner.gif"'+d("data-url",b.image.URL)+d("alt",b.image.title)+' class="guide-image">')})):(a.w('<div class="guide--image">'),e(a,k,{model:b.action,viewOptions:{"class":"image-link"}},function(a){a.w("<img"+d("src",b.image.URL)+d("alt",b.image.title)+' class="guide-image">')}));a.w("</div>");a.w('<div class="guide--content"><h3 class="guide--title">');e(a,k,{model:b.action},function(a){a.w("<div>");
e(a,j,{model:b.title.textSpans});a.w("</div>")});a.w('</h3><div class="guide--creator">');e(a,j,{model:b.author.name.textSpans});a.w("</div></div></div></li>")});a.w('</ul></div><button><b class="g-hdn">View next</b></button></div>')}),a.w("</div></div>"))}})});$rmod.def("/src/modules/vi-components/app-guides/index",function(e,g,f){f.exports=e("/$/marko-widgets").defineComponent({template:e.resolve("./template.marko"),init:function(a){var b=a.isOutOfStock;a.isTouch?(this.triggerImageFeed($("#GuidesPanel")[0],b),$("#GuidesPanel [class^='filmstrip']").filmstrip({mobiUX:!0})):($("#GuidesPanel [class^='filmstrip']").filmstrip(),$(".guide-image").imagefit())},getInitialState:function(a){return{model:a.model,isTouch:a.isTouch,options:a.options}},triggerImageFeed:function(a,
b){var c=this;b?$(window).load(function(){c.imageFeed(a,void 0)}):$(window).scroll(function(){c.imageFeed(a,void 0)})},imageFeed:function(a,b){$(".image-feed img[data-url]").each(function(c,d){if((b=$(d).data("url"))&&"undefined"!==window.clientUtils&&window.clientUtils.isElementPartiallyInViewport(a))$(d).attr("src",b),$(d).removeAttr("data-url")})}})});